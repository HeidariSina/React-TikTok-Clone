{"version":3,"sources":["context/discardModalContext.js","context/successModalContext.js","lib/firebaseConfig.js","lib/firebase.js","context/userContext.js","components/AppProviders.js","icons/BusinessSuiteIcon.js","icons/FeedbackIcon.js","icons/GetCoinsIcon.js","icons/LanguageIcon.js","icons/LogOutIcon.js","icons/SettingsIcon.js","icons/ShortcutsIcon.js","icons/ViewProfileIcon.js","components/Dropdown.js","components/SearchResults.js","icons/ClearIcon.js","icons/SearchIcon.js","icons/SmallLoadingIcon.js","components/SearchBar.js","icons/InboxIcon.js","icons/MessageIcon.js","icons/UploadIcon.js","components/Header.js","components/FollowButton.js","icons/GrayLikeIcon.js","icons/RedLikeIcon.js","components/LikeButton.js","icons/MessagesIcon.js","components/MessagesButton.js","icons/MuteIcon.js","icons/SoundIcon.js","components/MuteButton.js","icons/PauseIcon.js","icons/PlayIcon.js","components/PauseButton.js","icons/ShareIcon.js","components/ShareButton.js","hooks/useVideo.js","icons/MusicIcon.js","lib/draft-utils.js","components/FeedItem.js","icons/FollowingIcon.js","icons/ForYouIcon.js","icons/LiveIcon.js","components/Sidebar.js","pages/Feed.js","components/Portal.js","components/Modal.js","components/DiscardModal.js","components/DraftEditor.js","components/SuccessModal.js","icons/UploadCircleIcon.js","pages/Upload.js","hooks/useFirebaseUpload.js","hooks/useDragDrop.js","components/Loader.js","icons/CloseIcon.js","icons/VolumeIcon.js","icons/VolumeOffIcon.js","pages/VideoPost.js","icons/HeartIcon.js","icons/NotFoundIcon.js","pages/NotFound.js","pages/Profile.js","AuthApp.js","pages/LogIn.js","lib/validate.js","pages/SignUp.js","UnAuthApp.js","App.js","index.js"],"names":["DiscardModalContext","createContext","DiscardModalProvider","children","isDiscardOpen","setDiscardOpen","useState","Provider","value","closeDiscard","openDiscard","useDiscardModal","context","useContext","undefined","Error","SuccessModalContext","SuccessModalProvider","isSuccessOpen","setSuccessOpen","closeSuccess","openSuccess","useSuccessModal","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","firebase","apps","length","initializeApp","db","firestore","auth","storage","provider","GoogleAuthProvider","serverTimestamp","FieldValue","increment","UserContext","UserProvider","authUser","useAuthState","user","setUser","isLoading","setLoading","useEffect","doc","uid","get","then","exists","id","ref","data","catch","error","console","finally","useAuthUser","AppProviders","StrictMode","BusinessSuiteIcon","className","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","FeedbackIcon","GetCoinsIcon","LanguageIcon","LogOutIcon","SettingsIcon","ShortcutsIcon","ViewProfileIcon","Dropdown","history","useHistory","src","alt","DropdownOption","icon","text","onClick","push","username","async","signOut","window","location","reload","border","SearchResults","results","query","map","result","SearchResultItem","to","photoURL","displayName","ClearIcon","style","margin","SearchIcon","SmallLoadingIcon","SearchBar","useLocation","setQuery","setResults","inputRef","useRef","pathname","searchUsers","debounce","usersRef","collection","where","limit","orderBy","docs","trim","onChange","e","target","autoComplete","placeholder","type","current","focus","InboxIcon","zIndex","display","MessageIcon","UploadIcon","Header","isVisible","setVisible","useDetectClickOutside","onTriggered","prev","FollowButton","post","followingRef","followerRef","followingDoc","useDocument","delete","set","GrayLikeIcon","RedLikeIcon","filter","fillOpacity","x","y","filterUnits","colorInterpolationFilters","floodOpacity","in","values","dy","stdDeviation","mode","in2","LikeButton","likeRef","likeDoc","likedPostsRef","update","likeCount","MessagesIcon","clipPath","opacity","x1","y1","x2","y2","gradientUnits","offset","stopOpacity","MessagesButton","comments","useCollectionData","MuteIcon","SoundIcon","MuteButton","isMuted","toggleMute","PauseIcon","PlayIcon","PauseButton","isPlaying","togglePlay","ShareIcon","cx","cy","r","gradientTransform","ShareButton","useVideo","videoRef","setPlaying","setMuted","event","stopPropagation","pause","play","MusicIcon","transform","formatDraftText","blocks","entityMap","dirty","caption","DOMPurify","sanitize","entityRanges","forEach","range","key","start","slice","mention","name","end","FeedItem","dangerouslySetInnerHTML","__html","audio_name","FeedItemVideo","observer","IntersectionObserver","entries","entry","isIntersecting","rootMargin","threshold","observe","disconnect","videoUrl","playsInline","loop","muted","FollowingIcon","ForYouIcon","LiveIcon","Sidebar","SidebarLinks","SidebarSuggested","SidebarFollowing","suggestedCol","loading","useCollection","suggested","empty","SidebarItem","followingCol","following","Feed","FeedList","postsCol","collectionGroup","posts","Portal","el","useMemo","document","createElement","parent","body","appendChild","removeChild","ReactDOM","createPortal","Modal","open","onClose","active","setActive","backdrop","transitionEnd","keyHandler","indexOf","which","clickHandler","addEventListener","setTimeout","activeElement","blur","removeEventListener","DiscardModal","onConfirm","DraftEditor","editorState","setEditorState","onInputChange","maxLength","usersCol","users","setOpen","suggestions","setSuggestions","editorRef","plugins","MentionSuggestions","mentionPlugin","createMentionPlugin","contentState","getCurrentContent","characterLength","getPlainText","raw","convertToRaw","handleBeforeInput","log","handlePastedText","pastedText","entryComponent","Entry","onOpenChange","onSearchChange","defaultSuggestionsFilter","newEditorState","characterToInsert","currentContent","currentSelection","getSelection","newContent","Modifier","replaceText","EditorState","moveFocusToEnd","insertCharacter","props","theme","searchValue","isFocused","parentProps","SuccessModal","onCancel","UploadCircleIcon","progress","stroke","strokeLinecap","strokeWidth","strokeOpacity","strokeDasharray","strokeDashoffset","transition","Upload","handleUpload","cancelUpload","discardUpload","file","isUploading","uploadProgress","setFile","uploadTask","setUploadTask","setUploading","setUploadProgress","setVideoUrl","uploadId","shortid","put","on","snapshot","Math","round","bytesTransferred","totalBytes","getDownloadURL","url","cancel","useFirebaseUpload","UploadPreview","UploadProgress","UploadSelectFile","UploadForm","autoPlay","size","marginTop","dropRef","selectFile","onSelectFile","onDrop","handleDrag","preventDefault","handleDrop","dataTransfer","files","clearData","dropArea","click","useDragDrop","reader","FileReader","onloadend","media","Audio","onloadedmetadata","duration","toast","fontFamily","borderRadius","background","color","readAsDataURL","accept","isSubmitting","setSubmitting","setCaption","createEmpty","discardPost","disabled","postId","timestamp","alert","message","Loader","alignItems","justifyContent","flexDirection","CloseIcon","VolumeIcon","VolumeOffIcon","VideoPost","useParams","postDoc","VideoPostPlayer","VideoPostInfo","VideoPostComments","VideoPostCommentForm","goBack","date","Date","toDate","toString","getMonth","getDay","datePosted","commentsCol","comment","VideoPostComment","setComment","newComment","createdAt","add","HeartIcon","xmlSpace","NotFoundIcon","marginBottom","NotFound","Profile","userDoc","profile","likedPostsCol","ProfileHeader","ProfileTabs","followersRef","followersCol","isVideosActive","setVideosActive","postsRef","likedPosts","videoPosts","ProfileVideoPost","onMouseEnter","onMouseLeave","AuthApp","exact","path","LogIn","setNewUser","LoginOption","signInWithPopup","usernameRef","querySnapshot","checkUsername","removeWhiteSpace","replace","toastOptions","position","SignUp","isTaken","setTaken","setUsername","defaultUsername","u","onSubmit","UnAuthApp","isNewUser","App","render","getElementById"],"mappings":"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","file":"static/js/main.116c3822.chunk.js","sourcesContent":["import { createContext, useState, useContext } from \"react\";\n\nconst DiscardModalContext = createContext();\n\nexport function DiscardModalProvider({ children }) {\n  const [isDiscardOpen, setDiscardOpen] = useState(false);\n  const closeDiscard = () => setDiscardOpen(false);\n  const openDiscard = () => setDiscardOpen(true);\n\n  return (\n    <DiscardModalContext.Provider\n      value={{ isDiscardOpen, closeDiscard, openDiscard }}\n    >\n      {children}\n    </DiscardModalContext.Provider>\n  );\n}\n\nexport default function useDiscardModal() {\n  const context = useContext(DiscardModalContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"useDiscardModal must be used with DiscardModalContext.Provider\"\n    );\n  }\n\n  return context;\n}\n","import { createContext, useState, useContext } from \"react\";\n\nconst SuccessModalContext = createContext();\n\nexport function SuccessModalProvider({ children }) {\n  const [isSuccessOpen, setSuccessOpen] = useState(false);\n  const closeSuccess = () => setSuccessOpen(false);\n  const openSuccess = () => setSuccessOpen(true);\n\n  return (\n    <SuccessModalContext.Provider\n      value={{ isSuccessOpen, closeSuccess, openSuccess }}\n    >\n      {children}\n    </SuccessModalContext.Provider>\n  );\n}\n\nexport default function useSuccessModal() {\n  const context = useContext(SuccessModalContext);\n\n  if (context === undefined) {\n    throw new Error(\n      \"useSuccessModal must be used with SuccessModalContext.Provider\"\n    );\n  }\n\n  return context;\n}\n","const firebaseConfig = {\n  apiKey: \"AIzaSyDQNcF5f-4ZcQIDPl96HJfqy6jAPMzFcTU\",\n  authDomain: \"tiktok-clone-88b35.firebaseapp.com\",\n  projectId: \"tiktok-clone-88b35\",\n  storageBucket: \"tiktok-clone-88b35.appspot.com\",\n  messagingSenderId: \"22311309363\",\n  appId: \"1:22311309363:web:a97ff58e42466a00b0d346\",\n};\n\nexport default firebaseConfig;\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\nimport firebaseConfig from \"lib/firebaseConfig\";\n\nconst app = !firebase.apps.length\n  ? firebase.initializeApp(firebaseConfig)\n  : firebase.app();\n\nconst db = app.firestore();\nconst auth = app.auth();\nconst storage = app.storage();\nconst provider = new firebase.auth.GoogleAuthProvider();\nconst serverTimestamp = firebase.firestore.FieldValue.serverTimestamp();\nconst increment = firebase.firestore.FieldValue.increment;\n\nexport { auth, provider, storage, serverTimestamp, increment };\nexport default db;\n","import db, { auth } from \"lib/firebase\";\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nconst UserContext = createContext();\n\nexport function UserProvider({ children }) {\n  const [authUser] = useAuthState(auth);\n  const [user, setUser] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const ref = db.doc(`users/${authUser?.uid}`);\n    ref\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          setUser({ id: doc.id, ref: doc.ref, ...doc.data() });\n        }\n      })\n      .catch((error) => console.error(\"Error fetching user\", error))\n      .finally(() => setLoading(false));\n  }, [authUser]);\n\n  return (\n    <UserContext.Provider value={[user, isLoading]}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n\nexport default function useAuthUser() {\n  const context = useContext(UserContext);\n\n  if (context === undefined) {\n    throw new Error(\"useAuthUser must be used with UserContext.Provider\");\n  }\n\n  return context;\n}\n","import { DiscardModalProvider } from \"context/discardModalContext\";\nimport { SuccessModalProvider } from \"context/successModalContext\";\nimport { UserProvider } from \"context/userContext\";\nimport React from \"react\";\nimport { Toaster } from \"react-hot-toast\";\n\nexport default function AppProviders({ children }) {\n  return (\n    <React.StrictMode>\n      <SuccessModalProvider>\n        <DiscardModalProvider>\n          <UserProvider>\n            {children}\n            <Toaster />\n          </UserProvider>\n        </DiscardModalProvider>\n      </SuccessModalProvider>\n    </React.StrictMode>\n  );\n}\n","export default function BusinessSuiteIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 20 20\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M4.496 1.25L4.49737 1.25L15.4466 1.25C15.8518 1.25074 16.2496 1.3722 16.5849 1.60147L16.5886 1.60401C16.9378 1.8459 17.2023 2.19274 17.3372 2.59729L18.5939 5.87674C18.7775 6.34467 18.7999 6.85844 18.657 7.3405C18.5201 7.80257 18.2398 8.20704 17.8609 8.50268V17C17.8609 17.9665 17.0774 18.75 16.1109 18.75H3.88867C2.92218 18.75 2.13867 17.9665 2.13867 17V8.49262C1.75629 8.19412 1.47438 7.78473 1.33896 7.31707C1.19689 6.82643 1.2258 6.30462 1.41987 5.8327L2.60345 2.60315C2.73771 2.19609 3.0031 1.84708 3.35401 1.60402L3.35771 1.60146C3.69298 1.37219 4.09076 1.25074 4.496 1.25ZM15.9434 8.94402C16.0821 8.96327 16.2216 8.97264 16.3609 8.97221V17C16.3609 17.1381 16.249 17.25 16.1109 17.25H12.5277V12.7778C12.5277 11.8113 11.7442 11.0278 10.7777 11.0278H9.22213C8.25563 11.0278 7.47213 11.8113 7.47213 12.7778V17.25H3.88867C3.7506 17.25 3.63867 17.1381 3.63867 17V8.97213C3.78254 8.97324 3.92669 8.9639 4.0699 8.94402L4.07813 8.94288L4.08634 8.94156C4.56528 8.86421 5.01217 8.64712 5.36512 8.31466C5.47088 8.21534 5.61921 8.15477 5.77963 8.15477C5.94018 8.15477 6.08862 8.21544 6.1944 8.3149L6.20021 8.32037L6.20613 8.3257C6.66652 8.74051 7.26858 8.96696 7.88873 8.96696C8.50887 8.96696 9.11093 8.74051 9.57132 8.3257L9.57622 8.32129L9.58105 8.31678C9.69006 8.21503 9.84231 8.15323 10.0067 8.15323C10.171 8.15323 10.3233 8.21503 10.4323 8.31678L10.4371 8.32129L10.442 8.3257C10.9024 8.74051 11.5045 8.96696 12.1246 8.96696C12.7448 8.96696 13.3468 8.74051 13.8072 8.3257L13.8131 8.32037L13.8189 8.3149C13.9247 8.21544 14.0732 8.15477 14.2337 8.15477C14.3941 8.15477 14.5425 8.21534 14.6482 8.31466C15.0012 8.64712 15.4481 8.86421 15.927 8.94156L15.9352 8.94288L15.9434 8.94402ZM5.36512 8.31466L5.36486 8.3149L4.85118 7.7686L5.36544 8.31436L5.36512 8.31466ZM8.97213 17.25H11.0277V12.7778C11.0277 12.6397 10.9158 12.5278 10.7777 12.5278H9.22213C9.08406 12.5278 8.97213 12.6397 8.97213 12.7778V17.25ZM4.49819 2.75C4.39077 2.7503 4.2888 2.78251 4.20626 2.8384C4.11633 2.90128 4.05566 2.98632 4.02675 3.07674L4.02197 3.09167L2.81662 6.38061L2.80971 6.39701C2.74188 6.55803 2.73176 6.73407 2.77977 6.89985C2.82664 7.06173 2.92822 7.21064 3.07584 7.32105C3.12563 7.35304 3.17767 7.38205 3.23168 7.40785C3.43209 7.46944 3.64533 7.48729 3.85508 7.45943C4.04086 7.42787 4.2083 7.3437 4.33675 7.22266L4.33733 7.22212C4.72746 6.85528 5.24576 6.65477 5.77963 6.65477C6.31017 6.65477 6.82533 6.85279 7.21462 7.21528C7.39326 7.37421 7.63367 7.46696 7.88873 7.46696C8.14414 7.46696 8.38487 7.37395 8.56359 7.21461C8.95574 6.85148 9.47352 6.65323 10.0067 6.65323C10.5398 6.65323 11.0576 6.85148 11.4497 7.21461C11.6285 7.37395 11.8692 7.46696 12.1246 7.46696C12.3797 7.46696 12.6201 7.37421 12.7987 7.21527C13.188 6.85279 13.7032 6.65477 14.2337 6.65477C14.7676 6.65477 15.2859 6.85528 15.676 7.22212L15.6766 7.22266C15.805 7.3437 15.9725 7.42786 16.1583 7.45943C16.368 7.48729 16.5812 7.46943 16.7817 7.40785C16.8344 7.38263 16.8854 7.35434 16.9341 7.32321C17.075 7.21465 17.1725 7.0706 17.2189 6.91419C17.2667 6.75279 17.2594 6.58136 17.1971 6.42333L17.1957 6.41998L15.9223 3.09691L15.9158 3.07674C15.8869 2.98631 15.8263 2.90127 15.7363 2.83839C15.6538 2.7825 15.5518 2.7503 15.4444 2.75H4.49819Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","export default function FeedbackIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 48 48\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6ZM2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24ZM24.0909 15C22.172 15 20.3433 16.2292 19.2617 18.61C19.0332 19.1128 18.4726 19.4 17.9487 19.2253L16.0513 18.5929C15.5274 18.4182 15.2406 17.8497 15.4542 17.3405C16.9801 13.7031 20.0581 11 24.0909 11C28.459 11 32 14.541 32 18.9091C32 21.2138 30.7884 23.4606 29.2167 25.074C27.8157 26.5121 25.5807 27.702 22.9988 27.9518C22.4491 28.0049 22.0001 27.5523 22.0001 27V25C22.0001 24.4477 22.4504 24.0057 22.9955 23.9167C24.2296 23.7153 25.5034 23.1533 26.3515 22.2828C27.4389 21.1666 28 19.8679 28 18.9091C28 16.7502 26.2498 15 24.0909 15ZM24 36C22.3431 36 21 34.6569 21 33C21 31.3431 22.3431 30 24 30C25.6569 30 27 31.3431 27 33C27 34.6569 25.6569 36 24 36Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","export default function GetCoinsIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 20 20\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M10.0002 2.49992C5.85803 2.49992 2.50016 5.85778 2.50016 9.99992C2.50016 14.1421 5.85803 17.4999 10.0002 17.4999C14.1423 17.4999 17.5002 14.1421 17.5002 9.99992C17.5002 5.85778 14.1423 2.49992 10.0002 2.49992ZM0.833496 9.99992C0.833496 4.93731 4.93755 0.833252 10.0002 0.833252C15.0628 0.833252 19.1668 4.93731 19.1668 9.99992C19.1668 15.0625 15.0628 19.1666 10.0002 19.1666C4.93755 19.1666 0.833496 15.0625 0.833496 9.99992Z\"\n        />\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M12.141 4.99992C12.141 6.27424 13.2115 7.3484 14.5835 7.3484V9.01507C13.6736 9.01507 12.8267 8.72389 12.141 8.22854V11.4961C12.141 13.2238 10.7059 14.5833 8.98723 14.5833C7.26852 14.5833 5.8335 13.2238 5.8335 11.4961C5.8335 9.76845 7.26852 8.40901 8.98723 8.40901V10.0757C8.1429 10.0757 7.50016 10.7343 7.50016 11.4961C7.50016 12.2579 8.1429 12.9166 8.98723 12.9166C9.83156 12.9166 10.4743 12.2579 10.4743 11.4961V4.99992H12.141Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","export default function LanguageIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 48 48\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M11 2C7.68629 2 5 4.68629 5 8V40C5 43.3137 7.68629 46 11 46H37C40.3137 46 43 43.3137 43 40V8C43 4.68629 40.3137 2 37 2H11ZM9 8C9 6.89543 9.89543 6 11 6H37C38.1046 6 39 6.89543 39 8V40C39 41.1046 38.1046 42 37 42H11C9.89543 42 9 41.1046 9 40V8ZM26.063 14.1175C25.7306 13.4415 25.0465 13.0096 24.2933 13.0002C23.54 12.9907 22.8453 13.4054 22.4961 14.0729L15.6945 27.0746L12.4672 33.1814C12.2092 33.6697 12.3958 34.2747 12.8841 34.5328L14.6524 35.4672C15.1407 35.7253 15.7457 35.5386 16.0038 35.0503L18.6718 30.0017H29.4421L32.0324 35.0274C32.2854 35.5183 32.8885 35.7112 33.3794 35.4581L35.1572 34.5419C35.6481 34.2888 35.8409 33.6858 35.5879 33.1948L32.4477 27.1022L26.063 14.1175ZM27.4492 26.0017H20.77L24.213 19.4202L27.4492 26.0017Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","export default function LogOutIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 48 48\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M24.1716 26L7 26C6.44771 26 6 25.5523 6 25L6 23C6 22.4477 6.44771 22 7 22L24.1716 22L20.2929 18.1213C19.9024 17.7308 19.9024 17.0976 20.2929 16.7071L21.7071 15.2929C22.0976 14.9024 22.7308 14.9024 23.1213 15.2929L30.4142 22.5858C31.1953 23.3668 31.1953 24.6332 30.4142 25.4142L23.1213 32.7071C22.7308 33.0976 22.0976 33.0976 21.7071 32.7071L20.2929 31.2929C19.9024 30.9024 19.9024 30.2692 20.2929 29.8787L24.1716 26ZM36 43L27 43C26.4477 43 26 42.5523 26 42L26 40C26 39.4477 26.4477 39 27 39L36 39C37.1046 39 38 38.1046 38 37L38 11C38 9.89543 37.1046 9 36 9L27 9C26.4477 9 26 8.55228 26 8L26 6C26 5.44771 26.4477 5 27 5L36 5C39.3137 5 42 7.68629 42 11L42 37C42 40.3137 39.3137 43 36 43Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","export default function SettingsIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 48 48\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M21.375 44.2391C21.375 44.6593 21.7157 45 22.1359 45H25.8641C26.2843 45 26.625 44.6593 26.625 44.2391V41.3044C29.4979 40.8723 32.1421 39.7417 34.3792 38.0912L36.4554 40.1674C36.7525 40.4646 37.2343 40.4646 37.5314 40.1674L40.1677 37.5311C40.4648 37.234 40.4648 36.7522 40.1677 36.4551L38.0915 34.3789C39.7419 32.1418 40.8723 29.4978 41.3044 26.625H44.2391C44.6593 26.625 45 26.2843 45 25.8641V22.1359C45 21.7157 44.6593 21.375 44.2391 21.375H41.3044C40.8723 18.5021 39.7418 15.858 38.0913 13.6209L40.1673 11.5449C40.4644 11.2478 40.4644 10.766 40.1673 10.4689L37.531 7.83262C37.2339 7.53548 36.7521 7.53548 36.455 7.83262L34.379 9.90863C32.1419 8.25818 29.4978 7.1277 26.625 6.69556V3.76087C26.625 3.34065 26.2843 3 25.8641 3H22.1359C21.7156 3 21.375 3.34065 21.375 3.76087V6.69556C18.5022 7.1277 15.8582 8.25815 13.6211 9.90854L11.5452 7.83265C11.2481 7.53551 10.7664 7.53551 10.4692 7.83265L7.83294 10.4689C7.5358 10.7661 7.5358 11.2478 7.83294 11.545L9.90878 13.6208C8.25826 15.8579 7.12772 18.5021 6.69556 21.375H3.76087C3.34065 21.375 3 21.7157 3 22.1359V25.8641C3 26.2843 3.34065 26.625 3.76087 26.625H6.69556C7.1277 29.4978 8.25819 32.1419 9.90863 34.379L7.83255 36.4551C7.53541 36.7522 7.53541 37.234 7.83255 37.5311L10.4688 40.1674C10.766 40.4645 11.2477 40.4645 11.5449 40.1674L13.6209 38.0913C15.858 39.7418 18.5021 40.8723 21.375 41.3044V44.2391ZM24 38C31.732 38 38 31.732 38 24C38 16.268 31.732 10 24 10C16.268 10 10 16.268 10 24C10 31.732 16.268 38 24 38Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","export default function ShortcutsIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 48 48\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M6 24C6 14.0589 14.0589 6 24 6C33.9411 6 42 14.0589 42 24C42 33.9411 33.9411 42 24 42C14.0589 42 6 33.9411 6 24ZM24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2ZM15 14C14.4477 14 14 14.4477 14 15V17C14 17.5523 14.4477 18 15 18H17C17.5523 18 18 17.5523 18 17V15C18 14.4477 17.5523 14 17 14H15ZM14 31C14 30.4477 14.4477 30 15 30H33C33.5523 30 34 30.4477 34 31V33C34 33.5523 33.5523 34 33 34H15C14.4477 34 14 33.5523 14 33V31ZM15 22C14.4477 22 14 22.4477 14 23V25C14 25.5523 14.4477 26 15 26H17C17.5523 26 18 25.5523 18 25V23C18 22.4477 17.5523 22 17 22H15ZM22 15C22 14.4477 22.4477 14 23 14H25C25.5523 14 26 14.4477 26 15V17C26 17.5523 25.5523 18 25 18H23C22.4477 18 22 17.5523 22 17V15ZM23 22C22.4477 22 22 22.4477 22 23V25C22 25.5523 22.4477 26 23 26H25C25.5523 26 26 25.5523 26 25V23C26 22.4477 25.5523 22 25 22H23ZM30 15C30 14.4477 30.4477 14 31 14H33C33.5523 14 34 14.4477 34 15V17C34 17.5523 33.5523 18 33 18H31C30.4477 18 30 17.5523 30 17V15ZM31 22C30.4477 22 30 22.4477 30 23V25C30 25.5523 30.4477 26 31 26H33C33.5523 26 34 25.5523 34 25V23C34 22.4477 33.5523 22 33 22H31Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","export default function ViewProfileIcon() {\n  return (\n    <i className=\"jsx-2570553545\">\n      <svg\n        width={20}\n        height={20}\n        viewBox=\"0 0 48 48\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M24.0003 7C20.1343 7 17.0003 10.134 17.0003 14C17.0003 17.866 20.1343 21 24.0003 21C27.8663 21 31.0003 17.866 31.0003 14C31.0003 10.134 27.8663 7 24.0003 7ZM13.0003 14C13.0003 7.92487 17.9252 3 24.0003 3C30.0755 3 35.0003 7.92487 35.0003 14C35.0003 20.0751 30.0755 25 24.0003 25C17.9252 25 13.0003 20.0751 13.0003 14ZM24.0003 33C18.0615 33 13.0493 36.9841 11.4972 42.4262C11.3457 42.9573 10.8217 43.3088 10.2804 43.1989L8.32038 42.8011C7.77914 42.6912 7.4266 42.1618 7.5683 41.628C9.49821 34.358 16.1215 29 24.0003 29C31.8792 29 38.5025 34.358 40.4324 41.628C40.5741 42.1618 40.2215 42.6912 39.6803 42.8011L37.7203 43.1989C37.179 43.3088 36.6549 42.9573 36.5035 42.4262C34.9514 36.9841 29.9391 33 24.0003 33Z\"\n        />\n      </svg>\n    </i>\n  );\n}\n","import useAuthUser from \"context/userContext\";\nimport BusinessSuiteIcon from \"icons/BusinessSuiteIcon\";\nimport FeedbackIcon from \"icons/FeedbackIcon\";\nimport GetCoinsIcon from \"icons/GetCoinsIcon\";\nimport LanguageIcon from \"icons/LanguageIcon\";\nimport LogOutIcon from \"icons/LogOutIcon\";\nimport SettingsIcon from \"icons/SettingsIcon\";\nimport ShortcutsIcon from \"icons/ShortcutsIcon\";\nimport ViewProfileIcon from \"icons/ViewProfileIcon\";\nimport { auth } from \"lib/firebase\";\nimport { useHistory } from \"react-router\";\n\nexport default function Dropdown() {\n  const [user] = useAuthUser();\n  const history = useHistory();\n\n  async function logOut() {\n    await auth.signOut();\n    window.location.reload();\n  }\n\n  return (\n    <div className=\"dd-container\">\n      <img src=\"/dropdown-arrow.svg\" alt=\"Arrow\" className=\"dd-arrow\" />\n      <div className=\"dd-wrapper\">\n        <DropdownOption\n          icon={<ViewProfileIcon />}\n          text=\"View profile\"\n          onClick={() => history.push(`/${user.username}`)}\n        />\n        <DropdownOption icon={<GetCoinsIcon />} text=\"Get coins\" />\n        <DropdownOption icon={<BusinessSuiteIcon />} text=\"Business suite\" />\n        <DropdownOption icon={<SettingsIcon />} text=\"Settings\" />\n        <DropdownOption icon={<LanguageIcon />} text=\"English\" />\n        <DropdownOption icon={<FeedbackIcon />} text=\"Feedback and help\" />\n        <DropdownOption icon={<ShortcutsIcon />} text=\"Keyboard shortcuts\" />\n        <DropdownOption icon={<LogOutIcon />} text=\"Log out\" onClick={logOut} />\n      </div>\n    </div>\n  );\n}\n\nfunction DropdownOption({ icon, text, onClick, border }) {\n  return (\n    <div className=\"dd-option-container\" onClick={onClick}>\n      {border && <hr className=\"dd-option-border\" />}\n      <span className=\"dd-option\">\n        {icon}\n        {text}\n      </span>\n    </div>\n  );\n}\n","import { Link } from \"react-router-dom\";\n\nexport default function SearchResults({ results, query }) {\n  if (!query || !results.length) return null;\n\n  return (\n    <div className=\"search-results-container\">\n      <div className=\"search-results-title\">Accounts</div>\n      {results.map((result) => (\n        <SearchResultItem key={result.uid} result={result} />\n      ))}\n      <div className=\"search-results-all-container\">\n        <p className=\"search-results-all\">View all results for \"{query}\"</p>\n      </div>\n    </div>\n  );\n}\n\nfunction SearchResultItem({ result }) {\n  return (\n    <Link to={`/${result.username}`} className=\"search-result-item\">\n      <span className=\"search-result-item-avatar\">\n        <img src={result.photoURL} alt={result.username} />\n      </span>\n      <div className=\"search-result-item-content\">\n        <h4>{result.username}</h4>\n        <p>{result.displayName}</p>\n      </div>\n    </Link>\n  );\n}\n","export default function ClearIcon({ onClick }) {\n  return (\n    <button onClick={onClick}>\n      <svg\n        width={16}\n        height={16}\n        viewBox=\"0 0 48 48\"\n        fill=\"rgba(22, 24, 35, 0.34)\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        style={{ margin: \"0px 12px\" }}\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM15.1466 30.7323L21.8788 24.0001L15.1466 17.2679C14.756 16.8774 14.756 16.2442 15.1466 15.8537L15.8537 15.1466C16.2442 14.756 16.8774 14.756 17.2679 15.1466L24.0001 21.8788L30.7323 15.1466C31.1229 14.756 31.756 14.756 32.1466 15.1466L32.8537 15.8537C33.2442 16.2442 33.2442 16.8774 32.8537 17.2679L26.1214 24.0001L32.8537 30.7323C33.2442 31.1229 33.2442 31.756 32.8537 32.1466L32.1466 32.8537C31.756 33.2442 31.1229 33.2442 30.7323 32.8537L24.0001 26.1214L17.2679 32.8537C16.8774 33.2442 16.2442 33.2442 15.8537 32.8537L15.1466 32.1466C14.756 31.756 14.756 31.1229 15.1466 30.7323Z\"\n        />\n      </svg>\n    </button>\n  );\n}\n","export default function SearchIcon() {\n  return (\n    <svg\n      width={24}\n      height={24}\n      viewBox=\"0 0 48 48\"\n      fill=\"rgba(22, 24, 35, 0.34)\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M22 10C15.3726 10 10 15.3726 10 22C10 28.6274 15.3726 34 22 34C28.6274 34 34 28.6274 34 22C34 15.3726 28.6274 10 22 10ZM6 22C6 13.1634 13.1634 6 22 6C30.8366 6 38 13.1634 38 22C38 25.6974 36.7458 29.1019 34.6397 31.8113L43.3809 40.5565C43.7712 40.947 43.7712 41.5801 43.3807 41.9705L41.9665 43.3847C41.5759 43.7753 40.9426 43.7752 40.5521 43.3846L31.8113 34.6397C29.1019 36.7458 25.6974 38 22 38C13.1634 38 6 30.8366 6 22Z\"\n      />\n    </svg>\n  );\n}\n","export default function SmallLoadingIcon() {\n  return (\n    <svg\n      className=\"loading-circle jsx-1095385096\"\n      width={16}\n      height={16}\n      viewBox=\"0 0 48 48\"\n      fill=\"rgba(22, 24, 35, 0.34)\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{ margin: \"0px 12px\" }}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M24 12.5C17.6487 12.5 12.5 17.6487 12.5 24C12.5 30.3513 17.6487 35.5 24 35.5C26.8172 35.5 29.3919 34.4902 31.3919 32.8101C32.4491 31.9219 34.026 32.059 34.9142 33.1161C35.8023 34.1733 35.6653 35.7503 34.6081 36.6384C31.741 39.0471 28.0369 40.5 24 40.5C14.8873 40.5 7.5 33.1127 7.5 24C7.5 14.8873 14.8873 7.5 24 7.5C33.1127 7.5 40.5 14.8873 40.5 24C40.5 25.3807 39.3807 26.5 38 26.5C36.6193 26.5 35.5 25.3807 35.5 24C35.5 17.6487 30.3513 12.5 24 12.5Z\"\n      />\n    </svg>\n  );\n}\n","import SearchResults from \"components/SearchResults\";\nimport ClearIcon from \"icons/ClearIcon\";\nimport SearchIcon from \"icons/SearchIcon\";\nimport SmallLoadingIcon from \"icons/SmallLoadingIcon\";\nimport db from \"lib/firebase\";\nimport debounce from \"lodash.debounce\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useLocation } from \"react-router\";\n\nexport default function SearchBar() {\n  const location = useLocation();\n  const [query, setQuery] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n  const [results, setResults] = useState([]);\n  const inputRef = useRef();\n\n  useEffect(() => {\n    setResults([]);\n  }, [location.pathname]);\n\n  useEffect(() => {\n    const searchUsers = debounce(async () => {\n      try {\n        setLoading(true);\n        let usersRef = db.collection(\"users\");\n\n        if (query) {\n          usersRef = usersRef\n            .where(\"username\", \">=\", `@${query}`)\n            .where(\"username\", \"<\", `@${query}\\uf8ff`)\n            .limit(4);\n\n          const result = await usersRef.orderBy(\"username\").get();\n          const results = result.docs.map((doc) => doc.data());\n          setResults(results);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    }, 500);\n\n    if (query.trim().length > 0) {\n      searchUsers();\n    }\n  }, [query]);\n\n  function clearInput() {\n    setQuery(\"\");\n    inputRef.current?.focus();\n  }\n\n  return (\n    <div className=\"searchbar-container\">\n      <form className=\"searchbar-form\">\n        <input\n          ref={inputRef}\n          onChange={(e) => setQuery(e.target.value)}\n          value={query}\n          autoComplete=\"off\"\n          placeholder=\"Search accounts\"\n          type=\"text\"\n          className=\"searchbar-input\"\n        />\n        <div>\n          {query && !isLoading && <ClearIcon onClick={clearInput} />}\n          {isLoading && <SmallLoadingIcon />}\n        </div>\n        <span className=\"searchbar-border\"></span>\n        <button className=\"searchbar-icon\">\n          <SearchIcon></SearchIcon>\n        </button>\n      </form>\n      <SearchResults results={results} query={query} />\n    </div>\n  );\n}\n","export default function InboxIcon() {\n  return (\n    <div style={{ zIndex: 10 }} className=\"jsx-2353630727 header-inbox\">\n      <div className=\"jsx-2353630727 header-inbox-icon\">\n        <span style={{ display: \"flex\" }} className=\"jsx-2353630727\">\n          <svg\n            width={32}\n            height={32}\n            viewBox=\"0 0 32 32\"\n            fill=\"currentColor\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M24.0362 21.3333H18.5243L15.9983 24.4208L13.4721 21.3333H7.96047L7.99557 8H24.0009L24.0362 21.3333ZM24.3705 23.3333H19.4721L17.2883 26.0026C16.6215 26.8176 15.3753 26.8176 14.7084 26.0026L12.5243 23.3333H7.62626C6.70407 23.3333 5.95717 22.5845 5.9596 21.6623L5.99646 7.66228C5.99887 6.74352 6.74435 6 7.66312 6H24.3333C25.2521 6 25.9975 6.7435 26 7.66224L26.0371 21.6622C26.0396 22.5844 25.2927 23.3333 24.3705 23.3333ZM12.6647 14C12.2965 14 11.998 14.2985 11.998 14.6667V15.3333C11.998 15.7015 12.2965 16 12.6647 16H19.3313C19.6995 16 19.998 15.7015 19.998 15.3333V14.6667C19.998 14.2985 19.6995 14 19.3313 14H12.6647Z\"\n            />\n          </svg>\n        </span>\n      </div>\n    </div>\n  );\n}\n","export default function MessageIcon() {\n  return <div className=\"jsx-2314043552 icon message-icon\" />;\n}\n","export default function UploadIcon() {\n  return (\n    <span style={{ display: \"flex\" }} className=\"jsx-4204294043\">\n      <svg\n        width={32}\n        height={32}\n        viewBox=\"0 0 32 32\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M22.1571 13.8359L21.9247 12.3786C21.4686 9.51917 18.9876 7.3335 16 7.3335C12.6863 7.3335 10 10.0197 9.99996 13.3334L10.0011 15.2304L8.11578 15.3398C6.19293 15.4513 4.66663 17.0482 4.66663 19.0002C4.66663 21.0252 6.30825 22.6668 8.33329 22.6668H15.3333V17.0813L14.1785 18.236C13.9182 18.4964 13.4961 18.4964 13.2357 18.236L12.7643 17.7646C12.504 17.5043 12.504 17.0822 12.7643 16.8218L15.862 13.7242C16.1223 13.4638 16.5444 13.4638 16.8048 13.7242L19.9024 16.8218C20.1628 17.0822 20.1628 17.5043 19.9024 17.7646L19.431 18.236C19.1706 18.4964 18.7485 18.4964 18.4882 18.236L17.3333 17.0811V22.6668H23C25.3932 22.6668 27.3333 20.7267 27.3333 18.3335C27.3333 16.151 25.7179 14.3423 23.6181 14.0437L22.1571 13.8359ZM8.33329 24.6668H15.3333H17.3333H23C26.4978 24.6668 29.3333 21.8313 29.3333 18.3335C29.3333 15.1411 26.9714 12.5005 23.8997 12.0636C23.2913 8.24881 19.9861 5.3335 16 5.3335C11.5817 5.3335 7.99996 8.91522 7.99996 13.3335L7.99996 13.3431C5.0255 13.5157 2.66663 15.9824 2.66663 19.0002C2.66663 22.1298 5.20368 24.6668 8.33329 24.6668Z\"\n        />\n      </svg>\n    </span>\n  );\n}\n","import Dropdown from \"components/Dropdown\";\nimport SearchBar from \"components/SearchBar\";\nimport useAuthUser from \"context/userContext\";\nimport InboxIcon from \"icons/InboxIcon\";\nimport MessageIcon from \"icons/MessageIcon\";\nimport UploadIcon from \"icons/UploadIcon\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDetectClickOutside } from \"react-detect-click-outside\";\n\nexport default function Header() {\n  const [user] = useAuthUser();\n  const [isVisible, setVisible] = useState(false);\n  const ref = useDetectClickOutside({ onTriggered: () => setVisible(false) });\n\n  const toggleDropdown = () => setVisible((prev) => !prev);\n\n  if (!user) return null;\n\n  return (\n    <div className=\"h-container\">\n      <div className=\"h-content\">\n        <div className=\"h-wrapper\">\n          <Link to=\"/\" className=\"h-link\">\n            <img src=\"/tiktok-logo.svg\" alt=\"Tiktok\" className=\"h-icon\" />\n          </Link>\n        </div>\n        <SearchBar />\n\n        <div className=\"h-menu-right\">\n          <Link to=\"/upload\" className=\"h-menu-upload\">\n            <UploadIcon />\n          </Link>\n\n          <MessageIcon />\n\n          <InboxIcon />\n\n          <div\n            ref={ref}\n            onClick={toggleDropdown}\n            className=\"h-avatar-container\"\n          >\n            <img src={user.photoURL} alt={user.username} className=\"h-avatar\" />\n\n            {isVisible && <Dropdown />}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import useAuthUser from \"context/userContext\";\nimport { useDocument } from \"react-firebase-hooks/firestore\";\n\nexport default function FollowButton({ post }) {\n  const [user] = useAuthUser();\n  const followingRef = user.ref.collection(\"following\").doc(post.user.uid);\n  const followerRef = post.user.ref.collection(\"followers\").doc(user.uid);\n  const [followingDoc] = useDocument(followingRef);\n\n  function addFollow() {\n    followingRef.set(post.user);\n    followerRef.set(user);\n  }\n\n  function removeFollow() {\n    followingRef.delete(post.user);\n    followerRef.delete(user);\n  }\n\n  return (\n    <div className=\"fb-container\">\n      <div className=\"fb-wrapper\">\n        {followingDoc?.exists ? (\n          <button className=\"ufb\" onClick={removeFollow}>\n            Unfollow\n          </button>\n        ) : (\n          <button className=\"fb\" onClick={addFollow}>\n            Follow\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n","export default function GrayLikeIcon({ onClick }) {\n  return (\n    <div\n      onClick={onClick}\n      className=\"jsx-1961852495 bar-item-img engagement-icon-v23\"\n    >\n      <svg\n        width={24}\n        height={24}\n        viewBox=\"0 0 48 48\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M6.66022 8.55074C11.4597 3.71786 19.0168 3.74482 24 9.08441C28.9832 3.74482 36.5403 3.71786 41.3398 8.55074C46.2201 13.465 46.2201 21.4262 41.3398 26.3404L25.3553 42.436C24.9969 42.797 24.509 43 24 43C23.491 43 23.0031 42.797 22.6447 42.436L6.66022 26.3404C1.77993 21.4262 1.77993 13.465 6.66022 8.55074Z\"\n        />\n      </svg>\n    </div>\n  );\n}\n","export default function RedLikeIcon({ onClick }) {\n  return (\n    <div\n      onClick={onClick}\n      className=\"jsx-1961852495 bar-item-img engagement-icon-v23\"\n    >\n      <div className=\"jsx-2540907705 \">\n        <svg\n          width={24}\n          height={24}\n          viewBox=\"0 0 48 48\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <g filter=\"url(#LikeRedShadowColor_filter0_d)\">\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M15 4.5C21 4.5 24 8.5 24 8.5C24 8.5 27 4.5 33 4.5C40 4.5 45 9.99998 45 17C45 25 38.4622 32.1314 32.5 37.5C28.8191 40.8144 26 43 24 43C22 43 19.101 40.7978 15.5 37.5C9.63898 32.1325 3 25 3 17C3 9.99998 8 4.5 15 4.5Z\"\n              fill=\"#FE2C55\"\n            />\n          </g>\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M4.80371 24.3995C7.17815 29.3932 11.5185 33.8538 15.4999 37.4999C19.1009 40.7978 21.9999 42.9999 23.9999 42.9999C25.9999 42.9999 28.819 40.8144 32.4999 37.4999C38.4621 32.1314 44.9999 24.9999 44.9999 16.9999C44.9999 16.8252 44.9968 16.6513 44.9906 16.4785C41.1344 27.3238 27.3575 37 23.5001 37C20.6255 37 11.2219 31.6262 4.80371 24.3995Z\"\n            fill=\"black\"\n            fillOpacity=\"0.03\"\n          />\n          <defs>\n            <filter\n              id=\"LikeRedShadowColor_filter0_d\"\n              x=\"0.6\"\n              y=\"3.3\"\n              width=\"46.8\"\n              height=\"43.3\"\n              filterUnits=\"userSpaceOnUse\"\n              colorInterpolationFilters=\"sRGB\"\n            >\n              <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n              <feColorMatrix\n                in=\"SourceAlpha\"\n                type=\"matrix\"\n                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n              />\n              <feOffset dy=\"1.2\" />\n              <feGaussianBlur stdDeviation=\"1.2\" />\n              <feColorMatrix\n                type=\"matrix\"\n                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0\"\n              />\n              <feBlend\n                mode=\"normal\"\n                in2=\"BackgroundImageFix\"\n                result=\"effect1_dropShadow\"\n              />\n              <feBlend\n                mode=\"normal\"\n                in=\"SourceGraphic\"\n                in2=\"effect1_dropShadow\"\n                result=\"shape\"\n              />\n            </filter>\n          </defs>\n        </svg>\n      </div>\n    </div>\n  );\n}\n","import useAuthUser from \"context/userContext\";\nimport GrayLikeIcon from \"icons/GrayLikeIcon\";\nimport RedLikeIcon from \"icons/RedLikeIcon\";\nimport { increment } from \"lib/firebase\";\nimport { useDocument } from \"react-firebase-hooks/firestore\";\n\nexport default function LikeButton({ post }) {\n  const [user] = useAuthUser();\n  const likeRef = post.ref.collection(\"likes\").doc(user.uid);\n  const [likeDoc] = useDocument(likeRef);\n  const likedPostsRef = user.ref.collection(\"likedPosts\").doc(post.id);\n\n  function addLike() {\n    post.ref.update({ likeCount: increment(1) });\n    likeRef.set({ uid: user.uid });\n    likedPostsRef.set(post);\n  }\n\n  function removeLike() {\n    post.ref.update({ likeCount: increment(-1) });\n    likeRef.delete({ uid: user.uid });\n    likedPostsRef.delete(post);\n  }\n\n  return (\n    <button className=\"like-button\">\n      {likeDoc?.exists ? (\n        <RedLikeIcon onClick={removeLike} />\n      ) : (\n        <GrayLikeIcon onClick={addLike} />\n      )}\n      <strong className=\"like-button-count\">{post.likeCount}</strong>\n    </button>\n  );\n}\n","export default function MessagesIcon() {\n  return (\n    <div className=\"jsx-1961852495 bar-item-img engagement-icon-v23\">\n      <svg\n        width={24}\n        height={24}\n        viewBox=\"0 0 20 20\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g clipPath=\"url(#BubbleEllipsisRightFill_clip0)\">\n          <g opacity=\"0.9\" filter=\"url(#BubbleEllipsisRightFill_filter0_d)\">\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M16.0393 14.7137C17.75 13 18.75 11.215 18.75 9.13662C18.75 4.91897 14.8887 1.49997 10.125 1.49997C5.36129 1.49997 1.5 4.91897 1.5 9.13675C1.5 13.3545 5.48622 16.25 10.25 16.25V17.6487C10.25 18.0919 10.7095 18.3771 11.0992 18.1659C12.3166 17.5062 14.5725 16.183 16.0393 14.7137ZM5.93527 8.10679C6.61608 8.10679 7.16797 8.65471 7.16797 9.32962C7.16797 10.0059 6.61608 10.5538 5.93527 10.5538C5.2556 10.5538 4.70368 10.0059 4.70368 9.32962C4.70368 8.65471 5.2556 8.10679 5.93527 8.10679ZM11.3572 9.32962C11.3572 8.65471 10.8055 8.10679 10.125 8.10679C9.44459 8.10679 8.89289 8.65471 8.89289 9.32962C8.89292 10.0059 9.44462 10.5538 10.125 10.5538C10.8055 10.5538 11.3572 10.0059 11.3572 9.32962ZM14.3146 8.10679C14.9953 8.10679 15.5464 8.65471 15.5464 9.32962C15.5464 10.0059 14.9953 10.5538 14.3146 10.5538C13.6339 10.5538 13.082 10.0059 13.0821 9.32962C13.0821 8.65471 13.6339 8.10679 14.3146 8.10679Z\"\n            />\n          </g>\n          <path\n            opacity=\"0.1\"\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M10.25 16.2499C10.25 16.2499 15.0278 15.8807 17.025 13.3234C15.0278 16.1364 13.0307 17.6708 11.2831 18.1822C9.53561 18.6937 10.25 16.2499 10.25 16.2499Z\"\n            fill=\"url(#BubbleEllipsisRightFill_paint0_linear)\"\n          />\n        </g>\n        <defs>\n          <filter\n            id=\"BubbleEllipsisRightFill_filter0_d\"\n            x=\"0.5\"\n            y=\"1.49997\"\n            width=\"19.25\"\n            height=\"18.737\"\n            filterUnits=\"userSpaceOnUse\"\n            colorInterpolationFilters=\"sRGB\"\n          >\n            <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n            <feColorMatrix\n              in=\"SourceAlpha\"\n              type=\"matrix\"\n              values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            />\n            <feOffset dy={1} />\n            <feGaussianBlur stdDeviation=\"0.5\" />\n            <feColorMatrix\n              type=\"matrix\"\n              values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0\"\n            />\n            <feBlend\n              mode=\"normal\"\n              in2=\"BackgroundImageFix\"\n              result=\"effect1_dropShadow\"\n            />\n            <feBlend\n              mode=\"normal\"\n              in=\"SourceGraphic\"\n              in2=\"effect1_dropShadow\"\n              result=\"shape\"\n            />\n          </filter>\n          <linearGradient\n            id=\"BubbleEllipsisRightFill_paint0_linear\"\n            x1=\"8.50426\"\n            y1=\"15.6957\"\n            x2=\"9.29499\"\n            y2=\"18.1805\"\n            gradientUnits=\"userSpaceOnUse\"\n          >\n            <stop />\n            <stop offset={1} stopOpacity=\"0.01\" />\n          </linearGradient>\n          <clipPath id=\"BubbleEllipsisRightFill_clip0\">\n            <rect width={20} height={20} fill=\"white\" />\n          </clipPath>\n        </defs>\n      </svg>\n    </div>\n  );\n}\n","import MessagesIcon from \"icons/MessagesIcon\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MessagesButton({ post }) {\n  const [comments] = useCollectionData(post.ref.collection(\"comments\"));\n\n  return (\n    <Link\n      to={`/${post.user.username}/video/${post.id}`}\n      className=\"messages-button\"\n    >\n      <MessagesIcon />\n      <strong className=\"messages-button-count\">{comments?.length}</strong>\n    </Link>\n  );\n}\n","export default function MuteIcon() {\n  return (\n    <svg\n      width={24}\n      height={24}\n      viewBox=\"0 0 48 48\"\n      fill=\"#fff\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M25 10.8685C25 8.47242 22.3296 7.04325 20.3359 8.37236L10.3944 15H6C4.34315 15 3 16.3431 3 18V30C3 31.6568 4.34314 33 6 33H10.3944L20.3359 39.6276C22.3296 40.9567 25 39.5276 25 37.1315V10.8685ZM29.2929 18.1213L35.1716 24L29.2929 29.8787C28.9024 30.2692 28.9024 30.9024 29.2929 31.2929L30.7071 32.7071C31.0976 33.0976 31.7308 33.0976 32.1213 32.7071L38 26.8284L43.8787 32.7071C44.2692 33.0976 44.9024 33.0976 45.2929 32.7071L46.7071 31.2929C47.0976 30.9024 47.0976 30.2692 46.7071 29.8787L40.8284 24L46.7071 18.1213C47.0976 17.7308 47.0976 17.0976 46.7071 16.7071L45.2929 15.2929C44.9024 14.9024 44.2692 14.9024 43.8787 15.2929L38 21.1716L32.1213 15.2929C31.7308 14.9024 31.0976 14.9024 30.7071 15.2929L29.2929 16.7071C28.9024 17.0976 28.9024 17.7308 29.2929 18.1213Z\"\n      />\n    </svg>\n  );\n}\n","export default function SoundIcon() {\n  return (\n    <svg\n      width={25}\n      height={25}\n      viewBox=\"0 0 48 48\"\n      fill=\"#fff\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M20.3359 8.37236C22.3296 7.04325 25 8.47242 25 10.8685V37.1315C25 39.5276 22.3296 40.9567 20.3359 39.6276L10.3944 33H6C4.34314 33 3 31.6568 3 30V18C3 16.3431 4.34315 15 6 15H10.3944L20.3359 8.37236ZM21 12.737L12.1094 18.6641C11.7809 18.8831 11.3948 19 11 19H7V29H11C11.3948 29 11.7809 29.1169 12.1094 29.3359L21 35.263V12.737ZM32.9998 24C32.9998 21.5583 32.0293 19.3445 30.4479 17.7211C30.0625 17.3255 29.9964 16.6989 30.3472 16.2724L31.6177 14.7277C31.9685 14.3011 32.6017 14.2371 33.0001 14.6195C35.4628 16.9832 36.9998 20.3128 36.9998 24C36.9998 27.6872 35.4628 31.0168 33.0001 33.3805C32.6017 33.7629 31.9685 33.6989 31.6177 33.2724L30.3472 31.7277C29.9964 31.3011 30.0625 30.6745 30.4479 30.2789C32.0293 28.6556 32.9998 26.4418 32.9998 24ZM37.0144 11.05C36.6563 11.4705 36.7094 12.0995 37.1069 12.4829C40.1263 15.3951 42.0002 19.4778 42.0002 23.9999C42.0002 28.522 40.1263 32.6047 37.1069 35.5169C36.7094 35.9003 36.6563 36.5293 37.0144 36.9498L38.3109 38.4727C38.6689 38.8932 39.302 38.9456 39.7041 38.5671C43.5774 34.9219 46.0002 29.7429 46.0002 23.9999C46.0002 18.2569 43.5774 13.078 39.7041 9.43271C39.302 9.05421 38.6689 9.10664 38.3109 9.52716L37.0144 11.05Z\"\n      />\n    </svg>\n  );\n}\n","import MuteIcon from \"icons/MuteIcon\";\nimport SoundIcon from \"icons/SoundIcon\";\n\nexport default function MuteButton({ isMuted, toggleMute }) {\n  return (\n    <button onClick={toggleMute} className=\"mute-button\">\n      <div className=\"mute-button-inner\">\n        {!isMuted ? <MuteIcon /> : <SoundIcon />}\n      </div>\n    </button>\n  );\n}\n","export default function PauseIcon() {\n  return (\n    <svg\n      className=\"toggle-inner\"\n      width={20}\n      height={20}\n      viewBox=\"0 0 48 48\"\n      fill=\"#fff\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M8 6C8 5.44771 8.44772 5 9 5H17C17.5523 5 18 5.44772 18 6V42C18 42.5523 17.5523 43 17 43H9C8.44772 43 8 42.5523 8 42V6Z\" />\n      <path d=\"M30 6C30 5.44771 30.4477 5 31 5H39C39.5523 5 40 5.44772 40 6V42C40 42.5523 39.5523 43 39 43H31C30.4477 43 30 42.5523 30 42V6Z\" />\n    </svg>\n  );\n}\n","export default function PlayIcon() {\n  return (\n    <svg\n      className=\"toggle-inner\"\n      width={20}\n      height={20}\n      viewBox=\"0 0 48 48\"\n      fill=\"#fff\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M12 8.77702C12 6.43812 14.5577 4.99881 16.5569 6.21266L41.6301 21.4356C43.5542 22.6038 43.5542 25.3962 41.6301 26.5644L16.5569 41.7873C14.5577 43.0012 12 41.5619 12 39.223V8.77702Z\"\n      />\n    </svg>\n  );\n}\n","import PauseIcon from \"icons/PauseIcon\";\nimport PlayIcon from \"icons/PlayIcon\";\n\nexport default function PauseButton({ isPlaying, togglePlay }) {\n  return (\n    <button className=\"pause-button\" onClick={togglePlay}>\n      {!isPlaying ? <PlayIcon /> : <PauseIcon />}\n    </button>\n  );\n}\n","export default function ShareIcon() {\n  return (\n    <div className=\"jsx-1961852495 bar-item-img bar-item-share engagement-icon-v23\">\n      <svg\n        width={24}\n        height={24}\n        viewBox=\"0 0 20 20\"\n        fill=\"currentColor\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g clipPath=\"url(#PCShare_clip0)\">\n          <g opacity=\"0.9\" filter=\"url(#PCShare_filter0_d)\">\n            <path\n              fillRule=\"evenodd\"\n              clipRule=\"evenodd\"\n              d=\"M10.9376 3.17495C10.9376 2.58272 11.6469 2.27873 12.0758 2.68715L18.6021 8.90241C19.1764 9.44937 19.1564 10.3717 18.5588 10.8931L12.0541 16.5689C11.6184 16.9491 10.9376 16.6397 10.9376 16.0614V13.4894C10.9376 13.4894 3.95344 12.2312 1.7131 16.3434C1.50423 16.7268 0.690072 16.8609 0.855563 14.948C1.54761 11.4273 2.96196 5.93084 10.9376 5.93084V3.17495Z\"\n            />\n          </g>\n          <path\n            opacity=\"0.03\"\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M15.7538 6.21161L17.0486 8.80136C17.2777 9.25947 17.1677 9.81453 16.7812 10.1506L10.9824 15.193C10.9824 15.193 10.7017 16.5964 11.5437 16.5964C12.3857 16.5964 19.1218 10.4217 19.1218 10.4217C19.1218 10.4217 19.4025 9.57964 18.5605 8.73763C17.7185 7.89563 15.7538 6.21161 15.7538 6.21161Z\"\n          />\n          <path\n            opacity=\"0.09\"\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M10.9374 6.22983V13.5272C10.9374 13.5272 4.25359 12.5854 2.16026 15.7726C0.146021 18.8394 0.331011 12.3091 3.36331 9.05711C6.39561 5.8051 10.9374 6.22983 10.9374 6.22983Z\"\n            fill=\"url(#PCShare_paint0_radial)\"\n          />\n        </g>\n        <defs>\n          <filter\n            id=\"PCShare_filter0_d\"\n            x=\"-0.166473\"\n            y=\"2.5\"\n            width=\"20.1867\"\n            height=\"16.2363\"\n            filterUnits=\"userSpaceOnUse\"\n            colorInterpolationFilters=\"sRGB\"\n          >\n            <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n            <feColorMatrix\n              in=\"SourceAlpha\"\n              type=\"matrix\"\n              values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            />\n            <feOffset dy={1} />\n            <feGaussianBlur stdDeviation=\"0.5\" />\n            <feColorMatrix\n              type=\"matrix\"\n              values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0\"\n            />\n            <feBlend\n              mode=\"normal\"\n              in2=\"BackgroundImageFix\"\n              result=\"effect1_dropShadow\"\n            />\n            <feBlend\n              mode=\"normal\"\n              in=\"SourceGraphic\"\n              in2=\"effect1_dropShadow\"\n              result=\"shape\"\n            />\n          </filter>\n          <radialGradient\n            id=\"PCShare_paint0_radial\"\n            cx={0}\n            cy={0}\n            r={1}\n            gradientUnits=\"userSpaceOnUse\"\n            gradientTransform=\"translate(11.1827 18.2553) rotate(-113.046) scale(8.93256 8.78076)\"\n          >\n            <stop />\n            <stop offset=\"0.995496\" stopOpacity=\"0.01\" />\n            <stop offset={1} stopOpacity=\"0.01\" />\n          </radialGradient>\n          <clipPath id=\"PCShare_clip0\">\n            <rect width={20} height={20} fill=\"white\" />\n          </clipPath>\n        </defs>\n      </svg>\n    </div>\n  );\n}\n","import ShareIcon from \"icons/ShareIcon\";\n\nexport default function ShareButton() {\n  return (\n    <div className=\"share-button\">\n      <ShareIcon />\n    </div>\n  );\n}\n","import { useRef, useState } from \"react\";\n\nexport default function useVideo() {\n  const videoRef = useRef();\n  const [isPlaying, setPlaying] = useState(false);\n  const [isMuted, setMuted] = useState(true);\n\n  const toggleMute = () => setMuted((prev) => !prev);\n\n  function togglePlay(event) {\n    event.stopPropagation();\n    if (isPlaying) {\n      videoRef.current?.pause();\n      setPlaying(false);\n    } else {\n      videoRef.current?.play();\n      setPlaying(true);\n    }\n  }\n\n  return { videoRef, isPlaying, isMuted, setPlaying, togglePlay, toggleMute };\n}\n","export default function MusicIcon() {\n  return (\n    <svg\n      className=\"music-icon\"\n      width={18}\n      height={18}\n      viewBox=\"0 0 48 48\"\n      fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{ transform: \"translateY(4px)\" }}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M35.0001 10.7587C35.0001 10.1169 34.4041 9.64129 33.7784 9.78359L17.7902 13.4192C17.335 13.5227 17.0119 13.9275 17.0119 14.3943V37.9972H17.0109C17.0374 40.1644 14.8022 42.4189 11.612 43.2737C8.05093 44.2279 4.64847 43.0769 4.01236 40.7028C3.37624 38.3288 5.74735 35.6308 9.30838 34.6766C10.606 34.3289 11.8826 34.2608 13.0119 34.4294V14.3943C13.0119 12.0601 14.6271 10.0364 16.9033 9.5188L32.8914 5.88317C36.0204 5.17165 39.0001 7.54986 39.0001 10.7587V33.1191C39.084 35.3108 36.8331 37.6109 33.6032 38.4763C30.0421 39.4305 26.6397 38.2795 26.0036 35.9055C25.3675 33.5315 27.7386 30.8334 31.2996 29.8792C32.5961 29.5319 33.8715 29.4635 35.0001 29.6316V10.7587Z\"\n      />\n    </svg>\n  );\n}\n","import { EditorState, Modifier } from \"draft-js\";\nimport DOMPurify from \"dompurify\";\n\nexport function formatDraftText({ blocks, entityMap }) {\n  const dirty = blocks[0].text;\n  let caption = DOMPurify.sanitize(dirty);\n\n  blocks[0].entityRanges.forEach((range) => {\n    const { data } = entityMap[range.key];\n    const start = caption.slice(0, range.offset);\n    const mention = `<a href=\"/${data.mention.name}\">${data.mention.name}</href>`;\n    const end = caption.slice(range.offset + range.length);\n    caption = `${start}${mention}${end}`;\n  });\n\n  return caption;\n}\n\nexport function insertCharacter(characterToInsert, editorState) {\n  const currentContent = editorState.getCurrentContent();\n  const currentSelection = editorState.getSelection();\n  const newContent = Modifier.replaceText(\n    currentContent,\n    currentSelection,\n    characterToInsert\n  );\n\n  const newEditorState = EditorState.push(\n    editorState,\n    newContent,\n    characterToInsert\n  );\n\n  const newEditorStateWithFocus = EditorState.moveFocusToEnd(newEditorState);\n\n  return newEditorStateWithFocus;\n}\n","import FollowButton from \"components/FollowButton\";\nimport LikeButton from \"components/LikeButton\";\nimport MessagesButton from \"components/MessagesButton\";\nimport MuteButton from \"components/MuteButton\";\nimport PauseButton from \"components/PauseButton\";\nimport ShareButton from \"components/ShareButton\";\nimport useVideo from \"hooks/useVideo\";\nimport MusicIcon from \"icons/MusicIcon\";\nimport { formatDraftText } from \"lib/draft-utils\";\nimport { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function FeedItem({ post }) {\n  return (\n    <div className=\"fi-container\">\n      <Link to={`/${post.user.username}`} className=\"fi-avatar-link\">\n        <span className=\"fi-avatar\">\n          <img src={post.user.photoURL} alt={post.user.username} />\n        </span>\n      </Link>\n      <div className=\"fi-info\">\n        <div className=\"fi-author\">\n          <Link to={`/${post.user.username}`}>\n            <h3 className=\"fi-username\">{post.user.username}</h3>\n          </Link>\n          <Link to={`/${post.user.username}`}>\n            <h4 className=\"fi-displayName\">{post.user.displayName}</h4>\n          </Link>\n        </div>\n        <div\n          className=\"fi-caption\"\n          dangerouslySetInnerHTML={{ __html: formatDraftText(post.caption) }}\n        />\n        <FollowButton post={post} />\n        <div className=\"fi-music-container\">\n          <h4>\n            <div className=\"fi-music\">\n              <MusicIcon />\n              {post.audio_name}\n            </div>\n          </h4>\n        </div>\n        <FeedItemVideo post={post} />\n      </div>\n    </div>\n  );\n}\n\nfunction FeedItemVideo({ post }) {\n  const { videoRef, isPlaying, isMuted, togglePlay, toggleMute, setPlaying } =\n    useVideo();\n\n  useEffect(() => {\n    const options = {\n      rootMargin: \"0px\",\n      threshold: [0.9, 1],\n    };\n\n    function playVideo(entries) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          videoRef.current?.play();\n          setPlaying(true);\n        } else {\n          videoRef.current?.pause();\n          setPlaying(false);\n        }\n      });\n    }\n\n    const observer = new IntersectionObserver(playVideo, options);\n\n    observer.observe(videoRef.current);\n\n    return () => {\n      observer.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"fiv-container\">\n      <div className=\"fiv-wrapper\">\n        <div className=\"fiv-inner\">\n          <div className=\"fiv-video-container\">\n            <video\n              ref={videoRef}\n              src={post.videoUrl}\n              playsInline\n              loop\n              muted={isMuted}\n              className=\"fiv-video\"\n            />\n            <MuteButton toggleMute={toggleMute} isMuted={isMuted} />\n            <PauseButton isPlaying={isPlaying} togglePlay={togglePlay} />\n          </div>\n        </div>\n      </div>\n      <div className=\"fiv-action-bar\">\n        <LikeButton post={post} />\n        <MessagesButton post={post} />\n        <ShareButton />\n      </div>\n    </div>\n  );\n}\n","export default function FollowingIcon() {\n  return (\n    <svg\n      width={32}\n      height={32}\n      viewBox=\"0 0 48 48\"\n      fill=\"rgba(22, 24, 35, 1.0)\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M18 12.5C15.5897 12.5 13.5849 14.5018 13.5849 17.0345C13.5849 19.5672 15.5897 21.569 18 21.569C20.4103 21.569 22.4151 19.5672 22.4151 17.0345C22.4151 14.5018 20.4103 12.5 18 12.5ZM10.5849 17.0345C10.5849 12.9017 13.8766 9.5 18 9.5C22.1234 9.5 25.4151 12.9017 25.4151 17.0345C25.4151 21.1673 22.1234 24.569 18 24.569C13.8766 24.569 10.5849 21.1673 10.5849 17.0345ZM18 29.8793C14.0801 29.8793 10.7403 32.5616 9.69697 36.2673C9.5473 36.7989 9.03833 37.1708 8.49337 37.0811L7.50662 36.9189C6.96166 36.8292 6.58837 36.3131 6.72325 35.7776C8.00732 30.6788 12.5509 26.8793 18 26.8793C23.449 26.8793 27.9927 30.6788 29.2767 35.7776C29.4116 36.3131 29.0383 36.8292 28.4934 36.9189L27.5066 37.0811C26.9617 37.1708 26.4527 36.7989 26.303 36.2673C25.2597 32.5616 21.9199 29.8793 18 29.8793Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M33 31.5371C32.2445 31.5371 31.5198 31.668 30.8447 31.9093C30.3246 32.0951 29.7189 31.9243 29.4549 31.4392L28.9769 30.5608C28.713 30.0757 28.8907 29.463 29.4009 29.2516C30.513 28.791 31.7285 28.5371 33 28.5371C37.4554 28.5371 41.1594 31.6303 42.2706 35.7812C42.4135 36.3147 42.0386 36.8308 41.4935 36.9196L40.5065 37.0804C39.9614 37.1692 39.4546 36.7956 39.2894 36.2686C38.4217 33.5 35.91 31.5371 33 31.5371Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M33 18.5C31.6193 18.5 30.5 19.6193 30.5 21C30.5 22.3807 31.6193 23.5 33 23.5C34.3807 23.5 35.5 22.3807 35.5 21C35.5 19.6193 34.3807 18.5 33 18.5ZM27.5 21C27.5 17.9624 29.9624 15.5 33 15.5C36.0376 15.5 38.5 17.9624 38.5 21C38.5 24.0376 36.0376 26.5 33 26.5C29.9624 26.5 27.5 24.0376 27.5 21Z\"\n      />\n    </svg>\n  );\n}\n","export default function ForYouIcon() {\n  return (\n    <svg\n      width={32}\n      height={32}\n      viewBox=\"0 0 48 48\"\n      fill=\"rgba(254, 44, 85, 1.0)\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M24.9505 7.84001C24.3975 7.38666 23.6014 7.38666 23.0485 7.84003L6.94846 21.04C6.45839 21.4418 6.2737 22.1083 6.48706 22.705C6.70041 23.3017 7.26576 23.7 7.89949 23.7H10.2311L11.4232 36.7278C11.5409 38.0149 12.6203 39 13.9128 39H21.5C22.0523 39 22.5 38.5523 22.5 38V28.3153C22.5 27.763 22.9477 27.3153 23.5 27.3153H24.5C25.0523 27.3153 25.5 27.763 25.5 28.3153V38C25.5 38.5523 25.9477 39 26.5 39H34.0874C35.3798 39 36.4592 38.0149 36.577 36.7278L37.7691 23.7H40.1001C40.7338 23.7 41.2992 23.3017 41.5125 22.705C41.7259 22.1082 41.5412 21.4418 41.0511 21.04L24.9505 7.84001Z\"\n      />\n    </svg>\n  );\n}\n","export default function LiveIcon() {\n  return (\n    <svg\n      width={32}\n      height={32}\n      viewBox=\"0 0 32 32\"\n      fill=\"#161823\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M7.78511 10.3334C6.95518 10.3334 6.33301 10.9792 6.33301 11.7143V20.2858C6.33301 21.0209 6.95518 21.6667 7.78511 21.6667H18.5744C19.4043 21.6667 20.0265 21.0209 20.0265 20.2858V17.5602C20.0265 17.1826 20.2392 16.8372 20.5763 16.6672C20.9135 16.4973 21.3177 16.5317 21.6212 16.7563L25.6663 19.7488V12.2513L21.6212 15.2439C21.3177 15.4684 20.9135 15.5029 20.5763 15.3329C20.2392 15.1629 20.0265 14.8175 20.0265 14.4399V11.7143C20.0265 10.9792 19.4043 10.3334 18.5744 10.3334H7.78511ZM25.6855 12.2371C25.6831 12.2388 25.6839 12.2383 25.6839 12.2383L25.6855 12.2371ZM25.6716 12.2177C25.673 12.2212 25.6746 12.2243 25.6763 12.2269C25.6798 12.2324 25.6834 12.2355 25.6855 12.2371L25.6874 12.2383C25.6874 12.2383 25.6865 12.238 25.6839 12.2383M4.33301 11.7143C4.33301 9.81952 5.90653 8.33337 7.78511 8.33337H18.5744C20.453 8.33337 22.0265 9.81953 22.0265 11.7143V12.4562L24.4963 10.629C25.0929 10.1877 25.8879 10.1155 26.5542 10.4359C27.224 10.758 27.6663 11.4325 27.6663 12.1905V19.8096C27.6663 20.5676 27.224 21.2421 26.5542 21.5642C25.888 21.8846 25.0929 21.8124 24.4963 21.371L22.0265 19.5439V20.2858C22.0265 22.1806 20.453 23.6667 18.5744 23.6667H7.78511C5.90653 23.6667 4.33301 22.1806 4.33301 20.2858V11.7143Z\"\n      />\n      <path d=\"M15 15.134C15.6667 15.5189 15.6667 16.4811 15 16.866L12 18.5981C11.3333 18.983 10.5 18.5019 10.5 17.7321L10.5 14.2679C10.5 13.4981 11.3333 13.017 12 13.4019L15 15.134Z\" />\n    </svg>\n  );\n}\n","import useAuthUser from \"context/userContext\";\nimport FollowingIcon from \"icons/FollowingIcon\";\nimport ForYouIcon from \"icons/ForYouIcon\";\nimport LiveIcon from \"icons/LiveIcon\";\nimport db from \"lib/firebase\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Sidebar() {\n  return (\n    <div className=\"sb-container\">\n      <div className=\"sb-wrapper\">\n        <div className=\"sb-inner\">\n          <SidebarLinks />\n          <SidebarSuggested />\n          <SidebarFollowing />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SidebarLinks() {\n  return (\n    <div className=\"sb-links-container\">\n      <Link className=\"sb-links-wrapper\" to=\"/\">\n        <ForYouIcon />\n        <h2 className=\"sb-links-text active\">For You</h2>\n      </Link>\n      <Link className=\"sb-links-wrapper\">\n        <FollowingIcon />\n        <h2 className=\"sb-links-text\">Following</h2>\n      </Link>\n      <Link className=\"sb-links-wrapper\">\n        <LiveIcon />\n        <h2 className=\"sb-links-text\">LIVE</h2>\n      </Link>\n    </div>\n  );\n}\n\nfunction SidebarSuggested() {\n  const [user] = useAuthUser();\n  const [suggestedCol, loading] = useCollection(\n    db.collection(\"users\").where(\"uid\", \"!=\", user?.uid).limit(5)\n  );\n\n  const suggested = suggestedCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n\n  if (loading || suggestedCol.empty) return null;\n\n  return (\n    <div className=\"sb-suggested\">\n      <p className=\"sb-suggested-title\">Suggested accounts</p>\n      <div className=\"sb-suggested-list\">\n        {suggested.map((user) => (\n          <SidebarItem key={user.id} user={user} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction SidebarFollowing() {\n  const [user] = useAuthUser();\n  const [followingCol, loading] = useCollection(\n    user?.ref.collection(\"following\")\n  );\n\n  const following = followingCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n\n  if (loading || followingCol.empty) return null;\n\n  return (\n    <div className=\"sb-suggested\">\n      <p className=\"sb-suggested-title\">Following</p>\n      <div className=\"sb-suggested-list\">\n        {following.map((user) => (\n          <SidebarItem key={user.id} user={user} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction SidebarItem({ user }) {\n  return (\n    <Link to={`/${user.username}`} className=\"sb-item-link\">\n      <div className=\"sb-item-avatar-container\">\n        <span className=\"sb-item-avatar-wrapper\">\n          <img\n            src={user.photoURL}\n            alt={user.username}\n            className=\"sb-item-avatar\"\n          />\n        </span>\n      </div>\n      <div className=\"sb-item-info\">\n        <div className=\"sb-item-username-wrapper\">\n          <h4 className=\"sb-item-username\">{user.username}</h4>\n        </div>\n        <p className=\"sb-item-displayName\">{user.displayName}</p>\n      </div>\n    </Link>\n  );\n}\n","import FeedItem from \"components/FeedItem\";\nimport Sidebar from \"components/Sidebar\";\nimport db from \"lib/firebase\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\n\nexport default function Feed() {\n  return (\n    <div className=\"feed-container\">\n      <Sidebar />\n      <FeedList />\n    </div>\n  );\n}\n\nfunction FeedList() {\n  const [postsCol] = useCollection(db.collectionGroup(\"posts\"));\n\n  const posts = postsCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n\n  return (\n    <div className=\"feed-item-container\">\n      <div className=\"feed-item-inner\">\n        {posts?.map((post) => (\n          <FeedItem key={post.id} post={post} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useMemo, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nexport default function Portal({ children, className }) {\n  const el = useMemo(() => document.createElement(\"div\"), []);\n\n  useEffect(() => {\n    const parent = document.body;\n    parent.appendChild(el);\n\n    return () => {\n      parent.removeChild(el);\n    };\n  }, [el, className]);\n\n  return ReactDOM.createPortal(children, el);\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport Portal from \"./Portal\";\n\nexport default function Modal({ open, onClose, children }) {\n  const [active, setActive] = useState(false);\n  const backdrop = useRef(null);\n\n  useEffect(() => {\n    const { current } = backdrop;\n\n    const transitionEnd = () => setActive(open);\n\n    const keyHandler = (e) => [27].indexOf(e.which) >= 0 && onClose();\n\n    const clickHandler = (e) => e.target === current && onClose();\n\n    if (current) {\n      current.addEventListener(\"transitionend\", transitionEnd);\n      current.addEventListener(\"click\", clickHandler);\n      window.addEventListener(\"keyup\", keyHandler);\n    }\n\n    if (open) {\n      window.setTimeout(() => {\n        document.activeElement.blur();\n        setActive(open);\n      }, 10);\n    }\n\n    return () => {\n      if (current) {\n        current.removeEventListener(\"transitionend\", transitionEnd);\n        current.removeEventListener(\"click\", clickHandler);\n      }\n\n      window.removeEventListener(\"keyup\", keyHandler);\n    };\n  }, [open, onClose]);\n\n  return (\n    <>\n      {(open || active) && (\n        <Portal>\n          <div\n            ref={backdrop}\n            className={active && open ? \"active backdrop\" : \"backdrop\"}\n          >\n            <div className=\"content modal-content\">{children}</div>\n          </div>\n        </Portal>\n      )}\n    </>\n  );\n}\n","import Modal from \"components/Modal\";\nimport useDiscardModal from \"context/discardModalContext\";\n\nexport default function DiscardModal({ onConfirm }) {\n  const { isDiscardOpen, closeDiscard } = useDiscardModal();\n\n  return (\n    <Modal open={isDiscardOpen} onClose={closeDiscard}>\n      <div className=\"discard-modal-container\">\n        <div className=\"discard-modal-title-container\">\n          <div className=\"discard-modal-title\">Discard this post?</div>\n          <div className=\"discard-modal-subtitle\">\n            The video and all edits will be discarded\n          </div>\n        </div>\n        <button className=\"discard-modal-confirm\" onClick={onConfirm}>\n          Discard\n        </button>\n        <button className=\"discard-modal-discard\" onClick={closeDiscard}>\n          Continue editing\n        </button>\n      </div>\n    </Modal>\n  );\n}\n","import Editor from \"@draft-js-plugins/editor\";\nimport createMentionPlugin, {\n  defaultSuggestionsFilter,\n} from \"@draft-js-plugins/mention\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport db from \"lib/firebase\";\nimport { insertCharacter } from \"lib/draft-utils\";\nimport { convertToRaw } from \"draft-js\";\n\nexport default function DraftEditor({\n  editorState,\n  setEditorState,\n  onInputChange,\n  maxLength = 150,\n}) {\n  const [usersCol] = useCollectionData(db.collection(\"users\"));\n  const users = usersCol?.map((user) => ({\n    ...user,\n    name: user.username,\n  }));\n  const [open, setOpen] = useState(false);\n  const [suggestions, setSuggestions] = useState(users?.slice(0, 5));\n\n  const editorRef = useRef();\n\n  const { plugins, MentionSuggestions } = useMemo(() => {\n    const mentionPlugin = createMentionPlugin();\n    const { MentionSuggestions } = mentionPlugin;\n    const plugins = [mentionPlugin];\n    return { plugins, MentionSuggestions };\n  }, []);\n\n  function onSearchChange({ value }) {\n    setSuggestions(defaultSuggestionsFilter(value, users));\n  }\n\n  function onMention() {\n    const newEditorState = insertCharacter(\"@\", editorState);\n    setEditorState(newEditorState);\n  }\n\n  function handleBeforeInput() {\n    const currentContent = editorState.getCurrentContent();\n    const currentContentLength = currentContent.getPlainText().length;\n\n    if (currentContentLength > maxLength - 1) {\n      console.log(`You can type max ${maxLength} characters`);\n\n      return \"handled\";\n    }\n  }\n\n  function handlePastedText(pastedText) {\n    const contentState = editorState.getCurrentContent();\n    const characterLength = contentState.getPlainText().length;\n\n    if (characterLength + pastedText.length > maxLength) {\n      console.log(`You can type max ${maxLength} characters`);\n\n      return \"handled\";\n    }\n  }\n\n  useEffect(() => {\n    const contentState = editorState.getCurrentContent();\n    const characterLength = contentState.getPlainText().length;\n    const raw = convertToRaw(contentState);\n    onInputChange({ raw, characterLength });\n  }, [editorState, onInputChange]);\n\n  return (\n    <div className=\"editor-container\">\n      <div className=\"editor-wrapper\">\n        <div className=\"editor-inner\">\n          <div\n            onClick={() => {\n              editorRef.current.focus();\n            }}\n          >\n            <Editor\n              editorState={editorState}\n              onChange={setEditorState}\n              plugins={plugins}\n              ref={editorRef}\n              handleBeforeInput={handleBeforeInput}\n              handlePastedText={handlePastedText}\n            />\n            <MentionSuggestions\n              entryComponent={Entry}\n              open={open}\n              onOpenChange={(open) => setOpen(open)}\n              suggestions={suggestions || []}\n              onSearchChange={onSearchChange}\n            />\n          </div>\n        </div>\n      </div>\n      <button className=\"editor-mention-button\" onClick={onMention}>\n        <img src=\"/at-icon.svg\" alt=\"At Icon\" className=\"editor-mention-icon\" />\n      </button>\n      <button className=\"editor-hashtag-button\">\n        <img\n          src=\"/hashtag-icon.svg\"\n          alt=\"Hashtag Icon\"\n          className=\"editor-hashtag-icon\"\n        />\n      </button>\n    </div>\n  );\n}\n\nfunction Entry(props) {\n  const { mention, theme, searchValue, isFocused, ...parentProps } = props;\n\n  return (\n    <div {...parentProps}>\n      <div className=\"entry-container\">\n        <div className=\"entry-container-left\">\n          <img src={mention.photoURL} className=\"entry-avatar\" alt=\"\" />\n        </div>\n\n        <div className=\"entry-container-right\">\n          <div className=\"entry-text\">{mention.name}</div>\n\n          <div className=\"entry-title\">{mention.displayName}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Modal from \"components/Modal\";\nimport useSuccessModal from \"context/successModalContext\";\n\nexport default function SuccessModal({ onConfirm, onCancel }) {\n  const { isSuccessOpen, closeSuccess } = useSuccessModal();\n\n  return (\n    <Modal open={isSuccessOpen} onClose={closeSuccess}>\n      <div className=\"success-modal-container\">\n        <div className=\"success-modal-title-container\">\n          <div className=\"success-modal-title\">Your video is being</div>\n          <div className=\"success-modal-subtitle\">uploaded to Tiktok</div>\n        </div>\n        <button className=\"success-modal-discard\" onClick={onConfirm}>\n          Upload another video\n        </button>\n        <button className=\"success-modal-confirm\" onClick={onCancel}>\n          View profile\n        </button>\n      </div>\n    </Modal>\n  );\n}\n","export default function UploadCircleIcon({ progress }) {\n  return (\n    <svg\n      className=\"rc-progress-circle undefined\"\n      viewBox=\"0 0 100 100\"\n      style={{ width: 78 }}\n    >\n      <path\n        className=\"rc-progress-circle-trail\"\n        d=\"M 50,50 m 0,-48\na 48,48 0 1 1 0,96\na 48,48 0 1 1 0,-96\"\n        stroke=\"#161823\"\n        strokeLinecap=\"round\"\n        strokeWidth={4}\n        fillOpacity={0}\n        strokeOpacity=\"0.12\"\n        style={{\n          stroke: \"rgb(22, 24, 35)\",\n          strokeDasharray: \"301.593px, 301.593px\",\n          strokeDashoffset: 0,\n          transition:\n            \"stroke-dashoffset 0.3s ease 0s, stroke-dasharray 0.3s ease 0s, stroke 0.3s ease 0s, stroke-width 0.06s ease 0.3s\",\n        }}\n      />\n      <path\n        className=\"rc-progress-circle-path\"\n        d=\"M 50,50 m 0,-48\na 48,48 0 1 1 0,96\na 48,48 0 1 1 0,-96\"\n        strokeLinecap=\"round\"\n        strokeWidth={4}\n        fillOpacity={0}\n        style={{\n          stroke: \"rgb(45, 140, 240)\",\n          strokeDasharray: `${progress * 3}px, 301.593px`,\n          strokeDashoffset: 0,\n          transition:\n            \"stroke-dashoffset 0.3s ease 0s, stroke-dasharray 0.3s ease 0s, stroke 0.3s ease 0s, stroke-width 0.06s ease 0.3s\",\n        }}\n      />\n    </svg>\n  );\n}\n","import DiscardModal from \"components/DiscardModal\";\nimport DraftEditor from \"components/DraftEditor\";\nimport SuccessModal from \"components/SuccessModal\";\nimport useDiscardModal from \"context/discardModalContext\";\nimport useSuccessModal from \"context/successModalContext\";\nimport useAuthUser from \"context/userContext\";\nimport { EditorState } from \"draft-js\";\nimport useDragDrop from \"hooks/useDragDrop\";\nimport useFirebaseUpload from \"hooks/useFirebaseUpload\";\nimport UploadCircleIcon from \"icons/UploadCircleIcon\";\nimport db, { serverTimestamp } from \"lib/firebase\";\nimport { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useHistory } from \"react-router\";\nimport shortid from \"shortid\";\n\nexport default function Upload() {\n  const [user] = useAuthUser();\n  const {\n    handleUpload,\n    cancelUpload,\n    discardUpload,\n    file,\n    videoUrl,\n    isUploading,\n    uploadProgress,\n  } = useFirebaseUpload(user);\n\n  return (\n    <div className=\"u-container\">\n      <div className=\"u-wrapper\">\n        <div className=\"u-inner\">\n          <div className=\"u-title\">\n            Upload video\n            <div className=\"u-subtitle\">\n              This video will be published to {user?.username}\n            </div>\n          </div>\n          <div className=\"u-content\">\n            {videoUrl && <UploadPreview file={file} videoUrl={videoUrl} />}\n            {isUploading && (\n              <UploadProgress\n                file={file}\n                uploadProgress={uploadProgress}\n                cancelUpload={cancelUpload}\n              />\n            )}\n            <UploadSelectFile\n              isUploading={isUploading}\n              videoUrl={videoUrl}\n              handleUpload={handleUpload}\n            />\n            <UploadForm\n              user={user}\n              videoUrl={videoUrl}\n              discardUpload={discardUpload}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction UploadPreview({ file, videoUrl }) {\n  const { openDiscard } = useDiscardModal();\n\n  return (\n    <div className=\"u-preview-container\">\n      <div className=\"u-preview-wrapper\">\n        <button onClick={openDiscard} className=\"u-preview-delete-button\">\n          <img\n            src=\"/delete.svg\"\n            alt=\"Delete\"\n            className=\"u-preview-delete-icon\"\n          />\n        </button>\n        <video\n          src={videoUrl}\n          autoPlay\n          loop\n          muted\n          className=\"u-preview-video\"\n        ></video>\n      </div>\n      <div className=\"u-preview-file-size\">\n        {Math.round(file.size / 1000000)} MB\n      </div>\n    </div>\n  );\n}\n\nfunction UploadProgress({ file, uploadProgress, cancelUpload }) {\n  return (\n    <div className=\"u-progress-container\">\n      <div className=\"u-progress-circle-container\">\n        <div className=\"u-progress-circle\">\n          <UploadCircleIcon progress={uploadProgress} />\n          <img\n            onClick={cancelUpload}\n            src=\"/close.svg\"\n            alt=\"Close\"\n            className=\"u-progress-close-icon\"\n            style={{\n              marginTop: -27,\n            }}\n          />\n          <div className=\"u-progress-percentage\">{uploadProgress}%</div>\n          <div className=\"u-progress-file-name-container\">\n            <span className=\"u-progress-file-name\">{file.name}</span>\n          </div>\n        </div>\n        <div className=\"u-progress-file-size\">\n          {Math.round(file.size / 1000000)} MB\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction UploadSelectFile({ handleUpload, isUploading, videoUrl }) {\n  const { dropRef, inputRef, selectFile, onSelectFile } =\n    useDragDrop(getVideoDuration);\n\n  function getVideoDuration(file) {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      const media = new Audio(reader.result);\n      media.onloadedmetadata = () => {\n        const duration = Math.round(media.duration);\n        if (duration > 180) {\n          toast.error(\"Video is over the 3-minute limit\", {\n            style: {\n              fontFamily: \"proxima-regular\",\n              borderRadius: 10,\n              background: \"#333\",\n              color: \"#fff\",\n            },\n          });\n        } else {\n          handleUpload(file);\n        }\n      };\n    };\n    reader.readAsDataURL(file);\n  }\n\n  return (\n    <div\n      onClick={selectFile}\n      ref={dropRef}\n      className={`u-select-file-container ${\n        isUploading || videoUrl ? \"empty\" : \"\"\n      }`}\n    >\n      <div className=\"u-select-file-wrapper\">\n        <img\n          src=\"/cloud-icon.svg\"\n          alt=\"Cloud icon\"\n          className=\"u-select-file-icon\"\n        />\n        <div className=\"u-select-file-title\">Select video to upload</div>\n        <div className=\"u-select-file-subtitle\">Or drag and drop a file</div>\n        <br className=\"u-select-file-spacer\" />\n        <ul className=\"u-select-file-specs\">\n          <li className=\"u-select-file-type\">MP4 or WebM</li>\n          <li className=\"u-select-file-dimensions\">\n            720x1280 resolution or higher\n          </li>\n          <li>Up to 180 seconds</li>\n        </ul>\n      </div>\n      <input\n        ref={inputRef}\n        onChange={onSelectFile}\n        type=\"file\"\n        id=\"file-input\"\n        accept=\"video/mp4,video/webm\"\n        className=\"u-select-file-input\"\n      />\n    </div>\n  );\n}\n\nfunction UploadForm({ user, videoUrl, discardUpload }) {\n  const history = useHistory();\n  const { openSuccess, closeSuccess } = useSuccessModal();\n  const { openDiscard, closeDiscard } = useDiscardModal();\n  const [isSubmitting, setSubmitting] = useState(false);\n  const [caption, setCaption] = useState({ raw: null, characterLength: 0 });\n  const [editorState, setEditorState] = useState(() =>\n    EditorState.createEmpty()\n  );\n\n  function discardPost() {\n    discardUpload();\n    closeDiscard();\n    closeSuccess();\n    setCaption({ raw: null, characterLength: 0 });\n    setEditorState(() => EditorState.createEmpty());\n  }\n\n  function onSubmit() {\n    if (videoUrl) {\n      setSubmitting(true);\n      const postId = shortid();\n      const userPostsRef = db\n        .collection(\"users\")\n        .doc(user.uid)\n        .collection(\"posts\")\n        .doc(postId);\n\n      userPostsRef\n        .set({\n          postId,\n          user,\n          videoUrl,\n          likeCount: 0,\n          audio_name: `original sound - ${user.username}`,\n          caption: caption.raw,\n          timestamp: serverTimestamp,\n        })\n        .then(() => {\n          openSuccess();\n        })\n        .catch((error) => {\n          alert(\"Post could not be added!\", error.message);\n        })\n        .finally(() => {\n          setSubmitting(false);\n        });\n    }\n  }\n\n  return (\n    <>\n      <SuccessModal\n        onConfirm={discardPost}\n        onCancel={() => history.push(`/${user.username}`)}\n      />\n      <DiscardModal onConfirm={discardPost} />\n      <div className=\"u-form-container\">\n        <div className=\"u-form-wrapper\">\n          <div className=\"u-form-inner\">\n            <div className=\"u-form-header\">\n              <span className=\"u-form-title\">Caption</span>\n              <span className=\"u-form-length-container\">\n                <span className=\"u-form-length\">\n                  {caption.characterLength} / 150\n                </span>\n              </span>\n            </div>\n            <div className=\"u-form-input\">\n              <DraftEditor\n                editorState={editorState}\n                setEditorState={setEditorState}\n                onInputChange={setCaption}\n                maxLength={150}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"u-form-action\">\n          <button className=\"u-form-discard\" onClick={openDiscard}>\n            Discard\n          </button>\n          <button\n            disabled={!videoUrl || isSubmitting}\n            onClick={onSubmit}\n            className=\"u-form-submit\"\n          >\n            Post\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { storage } from \"lib/firebase\";\nimport { useState } from \"react\";\nimport shortid from \"shortid\";\n\nexport default function useFirebaseUpload(user) {\n  const [file, setFile] = useState(null);\n  const [uploadTask, setUploadTask] = useState(null);\n  const [isUploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [videoUrl, setVideoUrl] = useState(\"\");\n\n  function handleUpload(file) {\n    const uploadId = shortid();\n\n    setFile(file);\n    setUploading(true);\n    const uploadTask = storage.ref(`uploads/${user.uid}/${uploadId}`).put(file);\n    setUploadTask(uploadTask);\n\n    uploadTask.on(\n      \"state_change\",\n      (snapshot) => {\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setUploadProgress(progress);\n      },\n      (error) => {\n        console.error(\"Error uploading file\", error);\n        setUploading(false);\n      },\n      () => {\n        storage\n          .ref(`uploads/${user.uid}/${uploadId}`)\n          .getDownloadURL()\n          .then((url) => {\n            setVideoUrl(url);\n            setUploading(false);\n          });\n      }\n    );\n  }\n\n  async function cancelUpload() {\n    if (uploadTask) {\n      setUploading(false);\n      await uploadTask.cancel();\n    }\n  }\n\n  function discardUpload() {\n    setUploading(false);\n    setUploadProgress(0);\n    setVideoUrl(\"\");\n    setFile(null);\n  }\n\n  return {\n    handleUpload,\n    cancelUpload,\n    discardUpload,\n    file,\n    videoUrl,\n    isUploading,\n    uploadProgress,\n  };\n}\n","import { useEffect, useRef } from \"react\";\n\nexport default function useDragDrop(onDrop) {\n  const dropRef = useRef();\n  const inputRef = useRef();\n\n  function handleDrag(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function handleDrop(e) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const file = e.dataTransfer.files[0];\n      onDrop(file);\n      e.dataTransfer.clearData();\n    }\n  }\n\n  useEffect(() => {\n    const dropArea = dropRef.current;\n    dropArea.addEventListener(\"dragover\", handleDrag);\n    dropArea.addEventListener(\"drop\", handleDrop);\n\n    return () => {\n      dropArea.removeEventListener(\"dragover\", handleDrag);\n      dropArea.removeEventListener(\"drop\", handleDrop);\n    };\n  });\n\n  function selectFile() {\n    inputRef.current.click();\n  }\n\n  function onSelectFile(e) {\n    const file = e.target.files[0];\n    if (file) {\n      onDrop(file);\n    }\n  }\n\n  return { dropRef, inputRef, selectFile, onSelectFile };\n}\n","export default function Loader() {\n  return (\n    <div\n      style={{\n        height: \"100vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n      }}\n    >\n      <img style={{ height: 40 }} src=\"/loading.gif\" alt=\"loading\" />\n    </div>\n  );\n}","export default function CloseIcon({ onClick }) {\n  return (\n    <svg\n      onClick={onClick}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={48}\n      height={48}\n      viewBox=\"0 0 48 48\"\n      fill=\"none\"\n      className=\"jsx-1369931791 control-icon close\"\n    >\n      <circle cx={24} cy={24} r={24} fill=\"white\" fillOpacity=\"0.12\" />\n      <path\n        d=\"M15.2771 16.4795C15.082 16.6749 15.082 16.9919 15.2771 17.1873L31.0356 32.9801C31.2307 33.1756 31.5469 33.1756 31.742 32.9801L32.8651 31.8546C33.0601 31.6591 33.0601 31.3422 32.8651 31.1467L17.1065 15.3539C16.9115 15.1585 16.5952 15.1585 16.4002 15.3539L15.2771 16.4795Z\"\n        fill=\"white\"\n      />\n      <path\n        d=\"M31.742 15.3539C31.547 15.1584 31.2307 15.1584 31.0357 15.3539L15.2773 31.1467C15.0822 31.3422 15.0822 31.6591 15.2773 31.8546L16.4003 32.9801C16.5954 33.1756 16.9116 33.1756 17.1067 32.9801L32.8651 17.1873C33.0601 16.9918 33.0601 16.6749 32.8651 16.4794L31.742 15.3539Z\"\n        fill=\"white\"\n      />\n    </svg>\n  );\n}\n","export default function VolumeIcon({ onClick }) {\n  return (\n    <div\n      onClick={onClick}\n      className=\"jsx-858351972 volume-wrapper-column-browser\"\n    >\n      <div className=\"jsx-858351972 sound-wrapper\">\n        <svg\n          width={20}\n          height={20}\n          viewBox=\"0 0 48 48\"\n          fill=\"#fff\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M20.3359 8.37236C22.3296 7.04325 25 8.47242 25 10.8685V37.1315C25 39.5276 22.3296 40.9567 20.3359 39.6276L10.3944 33H6C4.34314 33 3 31.6568 3 30V18C3 16.3431 4.34315 15 6 15H10.3944L20.3359 8.37236ZM21 12.737L12.1094 18.6641C11.7809 18.8831 11.3948 19 11 19H7V29H11C11.3948 29 11.7809 29.1169 12.1094 29.3359L21 35.263V12.737ZM32.9998 24C32.9998 21.5583 32.0293 19.3445 30.4479 17.7211C30.0625 17.3255 29.9964 16.6989 30.3472 16.2724L31.6177 14.7277C31.9685 14.3011 32.6017 14.2371 33.0001 14.6195C35.4628 16.9832 36.9998 20.3128 36.9998 24C36.9998 27.6872 35.4628 31.0168 33.0001 33.3805C32.6017 33.7629 31.9685 33.6989 31.6177 33.2724L30.3472 31.7277C29.9964 31.3011 30.0625 30.6745 30.4479 30.2789C32.0293 28.6556 32.9998 26.4418 32.9998 24ZM37.0144 11.05C36.6563 11.4705 36.7094 12.0995 37.1069 12.4829C40.1263 15.3951 42.0002 19.4778 42.0002 23.9999C42.0002 28.522 40.1263 32.6047 37.1069 35.5169C36.7094 35.9003 36.6563 36.5293 37.0144 36.9498L38.3109 38.4727C38.6689 38.8932 39.302 38.9456 39.7041 38.5671C43.5774 34.9219 46.0002 29.7429 46.0002 23.9999C46.0002 18.2569 43.5774 13.078 39.7041 9.43271C39.302 9.05421 38.6689 9.10664 38.3109 9.52716L37.0144 11.05Z\"\n          />\n        </svg>\n      </div>\n    </div>\n  );\n}\n","export default function VolumeOffIcon({ onClick }) {\n  return (\n    <div onClick={onClick} className=\"jsx-858351972 mute-icon browse-mode\">\n      <div className=\"jsx-858351972 sound-wrapper\">\n        <svg\n          width={20}\n          height={20}\n          viewBox=\"0 0 48 48\"\n          fill=\"#fff\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M25 10.8685C25 8.47242 22.3296 7.04325 20.3359 8.37236L10.3944 15H6C4.34315 15 3 16.3431 3 18V30C3 31.6568 4.34314 33 6 33H10.3944L20.3359 39.6276C22.3296 40.9567 25 39.5276 25 37.1315V10.8685ZM29.2929 18.1213L35.1716 24L29.2929 29.8787C28.9024 30.2692 28.9024 30.9024 29.2929 31.2929L30.7071 32.7071C31.0976 33.0976 31.7308 33.0976 32.1213 32.7071L38 26.8284L43.8787 32.7071C44.2692 33.0976 44.9024 33.0976 45.2929 32.7071L46.7071 31.2929C47.0976 30.9024 47.0976 30.2692 46.7071 29.8787L40.8284 24L46.7071 18.1213C47.0976 17.7308 47.0976 17.0976 46.7071 16.7071L45.2929 15.2929C44.9024 14.9024 44.2692 14.9024 43.8787 15.2929L38 21.1716L32.1213 15.2929C31.7308 14.9024 31.0976 14.9024 30.7071 15.2929L29.2929 16.7071C28.9024 17.0976 28.9024 17.7308 29.2929 18.1213Z\"\n          />\n        </svg>\n      </div>\n    </div>\n  );\n}\n","import DraftEditor from \"components/DraftEditor\";\nimport FollowButton from \"components/FollowButton\";\nimport LikeButton from \"components/LikeButton\";\nimport Loader from \"components/Loader\";\nimport MessagesButton from \"components/MessagesButton\";\nimport useAuthUser from \"context/userContext\";\nimport { EditorState } from \"draft-js\";\nimport useVideo from \"hooks/useVideo\";\nimport CloseIcon from \"icons/CloseIcon\";\nimport MusicIcon from \"icons/MusicIcon\";\nimport VolumeIcon from \"icons/VolumeIcon\";\nimport VolumeOffIcon from \"icons/VolumeOffIcon\";\nimport { formatDraftText } from \"lib/draft-utils\";\nimport db, { serverTimestamp } from \"lib/firebase\";\nimport { useState } from \"react\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\nimport { useHistory, useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nexport default function VideoPost() {\n  const { postId } = useParams();\n  const [postsCol, loading] = useCollection(\n    db.collectionGroup(\"posts\").where(\"postId\", \"==\", postId).limit(1)\n  );\n  const postDoc = postsCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n  const post = postDoc?.[0];\n\n  if (loading) return <Loader />;\n\n  return (\n    <div className=\"vp-container\">\n      <VideoPostPlayer post={post} />\n      <div className=\"vp-container-right\">\n        <VideoPostInfo post={post} />\n        <VideoPostComments post={post} />\n        <VideoPostCommentForm post={post} />\n      </div>\n    </div>\n  );\n}\n\nfunction VideoPostPlayer({ post }) {\n  const history = useHistory();\n  const { videoRef, isMuted, toggleMute } = useVideo();\n\n  return (\n    <div className=\"vp-player-container\">\n      <div className=\"vp-player-wrapper\">\n        <video\n          ref={videoRef}\n          src={post.videoUrl}\n          muted={isMuted}\n          autoPlay\n          loop\n          className=\"vp-player\"\n        ></video>\n      </div>\n      <CloseIcon onClick={history.goBack} />\n      {isMuted ? (\n        <VolumeOffIcon onClick={toggleMute} />\n      ) : (\n        <VolumeIcon onClick={toggleMute} />\n      )}\n    </div>\n  );\n}\n\nfunction VideoPostInfo({ post }) {\n  function datePosted() {\n    const date = new Date(post.timestamp.toDate().toString());\n    const month = date.getMonth();\n    const day = date.getDay();\n    return `${month}-${day}`;\n  }\n\n  return (\n    <>\n      <div className=\"vp-info-container\">\n        <div className=\"vp-info-wrapper\">\n          <Link to={`/${post.user.username}`} className=\"vp-info-avatar-link\">\n            <img\n              src={post.user.photoURL}\n              alt={post.user.username}\n              className=\"vp-info-avatar\"\n            />\n          </Link>\n          <div className=\"vp-info-user\">\n            <Link to={`/${post.user.username}`}>\n              <h2 className=\"vp-info-username\">{post.user.username}</h2>\n            </Link>\n            <Link to={`/${post.user.username}`}>\n              <h2 className=\"vp-info-displayName\">\n                {post.user.displayName}\n                <span className=\"vp-info-divider\">  </span>\n                {datePosted()}\n              </h2>\n            </Link>\n          </div>\n          <FollowButton post={post} />\n        </div>\n      </div>\n      <div className=\"vp-info-caption-container\">\n        <h1\n          className=\"vp-info-caption\"\n          dangerouslySetInnerHTML={{ __html: formatDraftText(post.caption) }}\n        />\n        <h2 className=\"vp-info-music\">\n          <MusicIcon />\n          {post.audio_name}\n        </h2>\n        <div className=\"vp-info-action-container\">\n          <div className=\"vp-info-action-wrapper\">\n            <div className=\"vp-info-action\">\n              <LikeButton post={post} />\n            </div>\n            <div className=\"vp-info-action\">\n              <MessagesButton post={post} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction VideoPostComments({ post }) {\n  const [commentsCol] = useCollection(post.ref.collection(\"comments\"));\n  const comments = commentsCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n\n  return (\n    <div className=\"vp-comments-container\">\n      <div className=\"vp-comments\">\n        {comments?.map((comment) => (\n          <VideoPostComment key={comment.id} comment={comment} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction VideoPostComment({ comment }) {\n  return (\n    <div className=\"vp-comment-container\">\n      <div className=\"vp-comment-wrapper\">\n        <Link to={`/${comment.user.username}`} className=\"vp-comment-link\">\n          <img\n            src={comment.user.photoURL}\n            alt={comment.user.username}\n            className=\"vp-comment-avatar\"\n          />\n        </Link>\n        <div className=\"vp-comment-content\">\n          <Link to={`/${comment.user.username}`} className=\"vp-comment-link\">\n            <span className=\"vp-comment-username\">{comment.user.username}</span>\n          </Link>\n          <p className=\"vp-comment-text-container\">\n            <span\n              className=\"vp-comment-text\"\n              dangerouslySetInnerHTML={{\n                __html: formatDraftText(comment.text),\n              }}\n            />\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction VideoPostCommentForm({ post }) {\n  const [user] = useAuthUser();\n  const [editorState, setEditorState] = useState(() =>\n    EditorState.createEmpty()\n  );\n  const [comment, setComment] = useState({ raw: null, characterLength: 0 });\n\n  function addComment() {\n    const newComment = {\n      text: comment.raw,\n      user,\n      createdAt: serverTimestamp,\n    };\n    post.ref.collection(\"comments\").add(newComment);\n    setEditorState(EditorState.createEmpty());\n  }\n\n  return (\n    <div className=\"vp-comment-form-container\">\n      <div className=\"vp-comment-form-wrapper\">\n        <DraftEditor\n          editorState={editorState}\n          setEditorState={setEditorState}\n          onInputChange={setComment}\n          maxLength={150}\n        />\n        <button onClick={addComment} className=\"vp-comment-form-submit\">\n          Post\n        </button>\n      </div>\n    </div>\n  );\n}\n","export default function HeartIcon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      x=\"0px\"\n      y=\"0px\"\n      width=\"18px\"\n      fill=\"#fff\"\n      height=\"18px\"\n      viewBox=\"0 0 378.94 378.94\"\n      xmlSpace=\"preserve\"\n    >\n      <path d=\"M348.151 54.514c-19.883-19.884-46.315-30.826-74.435-30.826-28.124 0-54.559 10.942-74.449 30.826l-9.798 9.8-9.798-9.8c-19.884-19.884-46.325-30.826-74.443-30.826-28.117 0-54.56 10.942-74.442 30.826-41.049 41.053-41.049 107.848 0 148.885l147.09 147.091a16.036 16.036 0 008.527 4.461 16.29 16.29 0 003.161.303c4.161 0 8.329-1.587 11.498-4.764l147.09-147.091c41.051-41.037 41.051-107.832-.001-148.885zm-22.996 125.89L189.47 316.091 53.782 180.404c-28.368-28.364-28.368-74.514 0-102.893 13.741-13.739 32.017-21.296 51.446-21.296 19.431 0 37.702 7.557 51.438 21.296l21.305 21.312c6.107 6.098 16.897 6.098 23.003 0l21.297-21.312c13.737-13.739 32.009-21.296 51.446-21.296 19.431 0 37.701 7.557 51.438 21.296 28.371 28.379 28.371 74.528 0 102.893z\" />\n    </svg>\n  );\n}\n","export default function NotFoundIcon() {\n  return (\n    <svg\n      className=\"jsx-1973985703\"\n      width={90}\n      height={90}\n      viewBox=\"0 0 72 72\"\n      fill=\"currentColor\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{\n        marginBottom: 24,\n        fillOpacity: \"0.34\",\n        display: \"inline-block\",\n      }}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M33.8531 13.6612C31.0541 12.975 28.9695 10.4434 28.9695 7.43671C28.9695 3.90499 31.8457 1.02881 35.3774 1.02881C38.9091 1.02881 41.7853 3.90499 41.7853 7.43671C41.7853 10.4433 39.7008 12.9748 36.902 13.6611V24.499H55.0788C59.7539 24.499 63.56 28.3052 63.56 32.9802V62.4891C63.5549 67.1641 59.7539 70.9703 55.0737 70.9703H15.6812C11.0061 70.9703 7.19998 67.1641 7.19998 62.4891V32.9802C7.19998 28.3052 11.0061 24.499 15.6812 24.499H33.8531V13.6612ZM35.3776 4.07761C33.5279 4.07761 32.0187 5.58684 32.0187 7.43655C32.0187 9.28625 33.5228 10.7955 35.3776 10.7955C37.2324 10.7955 38.7366 9.28625 38.7366 7.43655C38.7366 5.58684 37.2324 4.07761 35.3776 4.07761ZM15.6812 27.5475C12.6881 27.5475 10.2489 29.9816 10.2489 32.9797V62.4886C10.2489 65.4816 12.683 67.9208 15.6812 67.9208H55.0788C58.0719 67.9208 60.5111 65.4867 60.5111 62.4886V32.9797C60.5111 29.9866 58.077 27.5475 55.0788 27.5475H15.6812ZM22.6884 44.4865C22.6884 45.33 23.3694 46.011 24.2129 46.011C25.0565 46.011 25.7374 45.3249 25.7374 44.4865V39.8521C25.7374 39.0085 25.0565 38.3276 24.2129 38.3276C23.3694 38.3276 22.6884 39.0085 22.6884 39.8521V44.4865ZM46.7351 59.1878C46.3031 59.1878 45.8763 59.0048 45.5714 58.6491C43.0479 55.6833 39.3857 53.9656 35.4998 53.9289C35.4611 53.9319 35.422 53.9333 35.3826 53.9333C31.4494 53.9333 27.7347 55.6509 25.1838 58.6541C24.8789 59.0048 24.452 59.1877 24.0201 59.1877C23.6695 59.1877 23.3188 59.0708 23.0343 58.8269C22.394 58.2832 22.3127 57.3177 22.8615 56.6774C25.961 53.0295 30.4655 50.926 35.2403 50.885C35.2839 50.8813 35.328 50.8794 35.3726 50.8794C40.2001 50.8794 44.7634 52.9933 47.8937 56.6724C48.4374 57.3127 48.3612 58.2782 47.7209 58.8219C47.4363 59.0709 47.0857 59.1878 46.7351 59.1878ZM46.5417 46.011C45.6981 46.011 45.0172 45.33 45.0172 44.4865V39.8521C45.0172 39.0085 45.6981 38.3276 46.5417 38.3276C47.3852 38.3276 48.0662 39.0085 48.0662 39.8521V44.4865C48.0662 45.3249 47.3852 46.011 46.5417 46.011Z\"\n      />\n    </svg>\n  );\n}\n","import NotFoundIcon from \"icons/NotFoundIcon\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"not-found-container\">\n      <div className=\"not-found-inner\">\n        <NotFoundIcon></NotFoundIcon>\n        <p className=\"not-found-title\">Page not available</p>\n        <p className=\"not-found-description\">\n          Sorry about that! Please try again later.\n        </p>\n      </div>\n    </div>\n  );\n}\n","import FollowButton from \"components/FollowButton\";\nimport Loader from \"components/Loader\";\nimport Sidebar from \"components/Sidebar\";\nimport useVideo from \"hooks/useVideo\";\nimport HeartIcon from \"icons/HeartIcon\";\nimport db from \"lib/firebase\";\nimport NotFound from \"pages/NotFound\";\nimport { useState } from \"react\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\nimport { useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Profile() {\n  const { username } = useParams();\n  const [usersCol, loading] = useCollection(\n    db.collection(\"users\").where(\"username\", \"==\", username).limit(1)\n  );\n\n  const userDoc = usersCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n  const profile = userDoc?.[0];\n  const likedPostsRef = profile?.ref\n    .collection(\"likedPosts\")\n    .orderBy(\"timestamp\", \"desc\");\n  const [likedPostsCol] = useCollection(likedPostsRef);\n\n  if (loading) return <Loader />;\n  if (!loading && usersCol?.empty) return <NotFound />;\n\n  return (\n    <div className=\"p-container\">\n      <Sidebar />\n      <div className=\"p-wrapper\">\n        <div className=\"p-inner\">\n          <ProfileHeader profile={profile} likedPostsCol={likedPostsCol} />\n          <ProfileTabs profile={profile} likedPostsCol={likedPostsCol} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProfileHeader({ profile, likedPostsCol }) {\n  const followersRef = profile.ref.collection(\"followers\");\n  const followingRef = profile.ref.collection(\"following\");\n  const [followingCol] = useCollection(followersRef);\n  const [followersCol] = useCollection(followingRef);\n\n  return (\n    <header className=\"p-header-container\">\n      <div className=\"p-header-wrapper\">\n        <div className=\"p-header-avatar-container\">\n          <img\n            src={profile.photoURL}\n            alt={profile.username}\n            className=\"p-header-avatar\"\n          />\n        </div>\n        <div className=\"p-header-user-info\">\n          <h2 className=\"p-header-username\">{profile.username}</h2>\n          <h1 className=\"p-header-displayName\">{profile.displayName}</h1>\n          <div className=\"p-header-follow-container\">\n            <div className=\"p-header-follow-wrapper\">\n              <FollowButton post={{ user: profile }} />\n            </div>\n          </div>\n        </div>\n      </div>\n      <section className=\"p-header-user-data\">\n        <div className=\"p-header-data-column\">\n          <strong>{followingCol?.size}</strong>\n          <span className=\"p-header-data-title\">Following</span>\n        </div>\n        <div className=\"p-header-data-column\">\n          <strong>{followersCol?.size}</strong>\n          <span className=\"p-header-data-title\">Followers</span>\n        </div>\n        <div className=\"p-header-data-column\">\n          <strong>{likedPostsCol?.size}</strong>\n          <span className=\"p-header-data-title\">Likes</span>\n        </div>\n      </section>\n    </header>\n  );\n}\n\nfunction ProfileTabs({ profile, likedPostsCol }) {\n  const [isVideosActive, setVideosActive] = useState(true);\n  const postsRef = profile.ref.collection(\"posts\").orderBy(\"timestamp\", \"desc\");\n  const [postsCol] = useCollection(postsRef);\n  const posts = postsCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n  const likedPosts = likedPostsCol?.docs.map((doc) => ({\n    id: doc.id,\n    ref: doc.ref,\n    ...doc.data(),\n  }));\n\n  const videoPosts = isVideosActive ? posts : likedPosts;\n\n  return (\n    <div className=\"p-tabs-container\">\n      <div className=\"p-tabs-wrapper\">\n        <p\n          onClick={() => setVideosActive(true)}\n          className={`p-tabs-videos-tab ${isVideosActive ? \"active\" : \"\"}`}\n        >\n          <span className=\"p-tabs-videos-title\">Videos</span>\n        </p>\n        <p\n          onClick={() => setVideosActive(false)}\n          className={`p-tabs-liked-tab ${!isVideosActive ? \"active\" : \"\"}`}\n        >\n          <span className=\"p-tabs-liked-title\">Liked</span>\n        </p>\n        <div\n          className=\"p-tabs-bottom-line\"\n          style={{\n            transform: isVideosActive ? \"translateX(0px)\" : \"translateX(297px)\",\n          }}\n        />\n      </div>\n      <div className=\"p-tabs-posts-container\">\n        {videoPosts?.map((post) => (\n          <ProfileVideoPost key={post.id} post={post} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction ProfileVideoPost({ post }) {\n  const { videoRef, togglePlay } = useVideo();\n\n  return (\n    <div className=\"p-video-post-container\">\n      <div className=\"p-video-post-wrapper\">\n        <div className=\"p-video-post-ratio\">\n          <div className=\"p-video-post-inner\">\n            <Link\n              onMouseEnter={togglePlay}\n              onMouseLeave={togglePlay}\n              to={`/${post.user.username}/video/${post.postId}`}\n              className=\"p-video-post-link\"\n            >\n              <div className=\"p-video-post-card-container\">\n                <div className=\"p-video-post-card\">\n                  <video\n                    src={post.videoUrl}\n                    muted\n                    loop\n                    ref={videoRef}\n                    className=\"p-video-post-player\"\n                  ></video>\n                  <div className=\"p-video-post-mask\">\n                    <div className=\"p-video-post-footer\">\n                      <div className=\"p-video-post-like-container\">\n                        <HeartIcon />\n                        <strong className=\"p-video-post-like-count\">\n                          {post.likeCount}\n                        </strong>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Header from \"components/Header\";\nimport Feed from \"pages/Feed\";\nimport Upload from \"pages/Upload\";\nimport VideoPost from \"pages/VideoPost\";\nimport Profile from \"pages/Profile\";\nimport NotFound from \"pages/NotFound\";\n\nexport default function AuthApp() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Feed />\n        </Route>\n        <Route path=\"/upload\">\n          <Upload />\n        </Route>\n        <Route path=\"/:username/video/:postId\">\n          <VideoPost />\n        </Route>\n        <Route exact path=\"/:username\">\n          <Profile />\n        </Route>\n        <Route path=\"*\">\n          <NotFound />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","import db, { auth, provider } from \"lib/firebase\";\n\nexport default function LogIn({ setUser, setNewUser }) {\n  async function signIn() {\n    const data = await auth.signInWithPopup(provider);\n    if (data) {\n      await checkUsername(data.user.uid);\n      setUser(data.user);\n    }\n  }\n\n  async function checkUsername(uid) {\n    const usernameRef = db.collection(\"usernames\").where(\"uid\", \"==\", uid);\n    const querySnapshot = await usernameRef.get();\n    setNewUser(querySnapshot.empty);\n  }\n\n  return (\n    <div className=\"login-container\">\n      <header className=\"login-header\"></header>\n      <div className=\"login-wrapper\">\n        <div className=\"login-options-container\">\n          <div className=\"login-title-container\">\n            <div className=\"login-title\">Sign up for Tiktok</div>\n          </div>\n\n          <div className=\"login-options\">\n            <LoginOption src=\"/email.png\" text=\"Use phone or email\" />\n            <LoginOption src=\"/facebook.png\" text=\"Continue with Facebook\" />\n            <LoginOption\n              src=\"/google.png\"\n              text=\"Continue with Google\"\n              onClick={signIn}\n            />\n            <LoginOption src=\"/twitter.png\" text=\"Continue with Twitter\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction LoginOption({ text, src, onClick }) {\n  return (\n    <div className=\"login-option-wrapper\" onClick={onClick}>\n      <div className=\"login-option-icon-wrapper\">\n        <img src={src} alt={text} className=\"login-option-icon\" />\n      </div>\n      <div className=\"login-option-text\">{text}</div>\n    </div>\n  );\n}\n","export function removeWhiteSpace(username) {\n  return username.replace(/\\s/g, \"\");\n}\n","import db from \"lib/firebase\";\nimport { removeWhiteSpace } from \"lib/validate\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\n\nconst toastOptions = {\n  position: \"top-right\",\n  style: {\n    fontFamily: \"proxima-regular\",\n    borderRadius: 10,\n    background: \"#333\",\n    color: \"#fff\",\n  },\n};\n\nexport default function SignUp({ user }) {\n  const [isTaken, setTaken] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [username, setUsername] = useState(\"\");\n\n  useEffect(() => {\n    if (user) {\n      console.log(\"User authenticated\", user);\n      const defaultUsername = removeWhiteSpace(user.displayName);\n      setUsername(defaultUsername);\n    }\n  }, [user]);\n\n  useEffect(() => {\n    const u = removeWhiteSpace(username);\n\n    async function checkUsername() {\n      if (u.length >= 3 && u.length <= 20) {\n        const ref = db.doc(`usernames/@${u}`);\n        const { exists } = await ref.get();\n        setTaken(exists);\n      }\n    }\n\n    if (u) {\n      checkUsername();\n    }\n  }, [username]);\n\n  async function signUp(event) {\n    event.preventDefault();\n\n    if (isTaken) {\n      return toast.error(\"This username is taken\", toastOptions);\n    } else if (username.length < 3) {\n      return toast.error(\"Username is under 3 character limit\", toastOptions);\n    } else if (username.length > 20) {\n      return toast.error(\"Username is over 20 character limit\", toastOptions);\n    }\n\n    const { uid, displayName, photoURL } = user;\n    const u = `@${removeWhiteSpace(username)}`;\n\n    try {\n      setLoading(true);\n      await db.doc(`users/${uid}`).set({\n        uid,\n        username: u,\n        displayName,\n        photoURL,\n      });\n      await db.doc(`usernames/${u}`).set({ uid });\n      window.location.reload();\n    } catch (error) {\n      alert(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"signup-container\">\n      <header className=\"signup-header\">\n        <div className=\"signup-header-title\">Sign up</div>\n      </header>\n      <form onSubmit={signUp} className=\"signup-form\">\n        <div className=\"signup-form-inner\">\n          <div className=\"signup-form-title\">Create username</div>\n          <div className={`signup-input ${isTaken ? \"signup-error\" : \"\"}`}>\n            <input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              type=\"text\"\n              placeholder=\"Username\"\n            />\n            <div className=\"signup-error-icon\"></div>\n          </div>\n          <div className=\"signup-error-text\">\n            {isTaken\n              ? \"This username is taken.\"\n              : \"You can always change this later.\"}\n          </div>\n        </div>\n        <button\n          type=\"submit\"\n          className=\"signup-submit\"\n          disabled={isTaken || isLoading}\n        >\n          Sign up\n        </button>\n      </form>\n    </div>\n  );\n}\n","import LogIn from \"pages/LogIn\";\nimport SignUp from \"pages/SignUp\";\nimport { useState } from \"react\";\n\nexport default function UnAuthApp() {\n  const [isNewUser, setNewUser] = useState(false);\n  const [user, setUser] = useState(null);\n\n  return isNewUser ? (\n    <SignUp user={user} />\n  ) : (\n    <LogIn setUser={setUser} setNewUser={setNewUser} />\n  );\n}\n","import AuthApp from \"AuthApp\";\nimport Loader from \"components/Loader\";\nimport useAuthUser from \"context/userContext\";\nimport UnAuthApp from \"UnAuthApp\";\n\nexport default function App() {\n  const [user, loading] = useAuthUser();\n\n  if (loading && !user) return <Loader />;\n\n  return user ? <AuthApp /> : <UnAuthApp />;\n}\n","import \"@draft-js-plugins/mention/lib/plugin.css\";\nimport AppProviders from \"components/AppProviders\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.scss\";\n\nReactDOM.render(\n  <AppProviders>\n    <App />\n  </AppProviders>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}